
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>API Docs &#8212; Skein 0.8.0+5.gc89a54a documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CLI Docs" href="cli.html" />
    <link rel="prev" title="Debugging" href="debugging.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="api-docs">
<h1>API Docs<a class="headerlink" href="#api-docs" title="Permalink to this headline">¶</a></h1>
<div class="section" id="client">
<h2>Client<a class="headerlink" href="#client" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="skein.Client">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">Client</code><span class="sig-paren">(</span><em class="sig-param">address=None</em>, <em class="sig-param">security=None</em>, <em class="sig-param">keytab=None</em>, <em class="sig-param">principal=None</em>, <em class="sig-param">log=None</em>, <em class="sig-param">log_level=None</em>, <em class="sig-param">java_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to and schedule applications on the YARN cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>address</strong><span class="classifier">str, optional</span></dt><dd><p>The address for the driver. By default will create a new driver
process.  Pass in address explicitly to connect to a different driver.
To connect to the global driver see <code class="docutils literal notranslate"><span class="pre">Client.from_global_driver</span></code>.</p>
</dd>
<dt><strong>security</strong><span class="classifier">Security, optional</span></dt><dd><p>The security configuration to use to communicate with the driver.
Defaults to the global configuration.</p>
</dd>
<dt><strong>keytab</strong><span class="classifier">str, optional</span></dt><dd><p>Path to a keytab file to use when starting the driver. If not provided,
the driver will login using the ticket cache instead.</p>
</dd>
<dt><strong>principal</strong><span class="classifier">str, optional</span></dt><dd><p>The principal to use when starting the driver with a keytab.</p>
</dd>
<dt><strong>log</strong><span class="classifier">str, bool, or None, optional</span></dt><dd><p>When starting a new driver, sets the logging behavior for the driver.
Values may be a path for logs to be written to, <code class="docutils literal notranslate"><span class="pre">None</span></code> to log to
stdout/stderr, or <code class="docutils literal notranslate"><span class="pre">False</span></code> to turn off logging completely. Default is
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt><strong>log_level</strong><span class="classifier">str or skein.model.LogLevel, optional</span></dt><dd><p>The driver log level. Sets the <code class="docutils literal notranslate"><span class="pre">skein.log.level</span></code> system property. One
of {‘ALL’, ‘TRACE’, ‘DEBUG’, ‘INFO’, ‘WARN’, ‘ERROR’, ‘FATAL’, ‘OFF’}
(from most to least verbose). Default is ‘INFO’.</p>
</dd>
<dt><strong>java_options</strong><span class="classifier">str or list of str, optional</span></dt><dd><p>Additional Java options to forward to the driver. Can also be
configured by setting the environment variable
<code class="docutils literal notranslate"><span class="pre">SKEIN_DRIVER_JAVA_OPTIONS</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">skein</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">app_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="s1">&#39;spec.yaml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="skein.Client.application_logs">
<code class="sig-name descname">application_logs</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">app_id</em>, <em class="sig-param">user=''</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.application_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get logs from a completed skein application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>app_id</strong><span class="classifier">str</span></dt><dd><p>The id of the application.</p>
</dd>
<dt><strong>user</strong><span class="classifier">str, optional</span></dt><dd><p>The user to get the application logs as. Requires the current user
to have permissions to proxy as <code class="docutils literal notranslate"><span class="pre">user</span></code>. Default is the current
user.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ApplicationLogs</strong><span class="classifier">logs</span></dt><dd><p>A mapping of <code class="docutils literal notranslate"><span class="pre">yarn_container_id</span></code> to <code class="docutils literal notranslate"><span class="pre">logs</span></code> for each container.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">application_logs</span><span class="p">(</span><span class="s1">&#39;application_1526134340424_0012&#39;</span><span class="p">)</span>
<span class="go">ApplicationLogs&lt;application_1526134340424_0012&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.Client.application_report">
<code class="sig-name descname">application_report</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">app_id</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.application_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a report on the status of a skein application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>app_id</strong><span class="classifier">str</span></dt><dd><p>The id of the application.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>report</strong><span class="classifier">ApplicationReport</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">application_report</span><span class="p">(</span><span class="s1">&#39;application_1526134340424_0012&#39;</span><span class="p">)</span>
<span class="go">ApplicationReport&lt;name=&#39;demo&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.Client.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Release all resources used by this client. Idempotent.</p>
<p>Note that this closes the Java driver if it was started by this client.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Client.connect">
<code class="sig-name descname">connect</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">app_id</em>, <em class="sig-param">wait=True</em>, <em class="sig-param">security=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to a running application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>app_id</strong><span class="classifier">str</span></dt><dd><p>The id of the application.</p>
</dd>
<dt><strong>wait</strong><span class="classifier">bool, optional</span></dt><dd><p>If true [default], blocks until the application starts. If False,
will raise a <code class="docutils literal notranslate"><span class="pre">ApplicationNotRunningError</span></code> immediately if the
application isn’t running.</p>
</dd>
<dt><strong>security</strong><span class="classifier">Security, optional</span></dt><dd><p>The security configuration to use to communicate with the
application master. Defaults to the global configuration.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>app_client</strong><span class="classifier">ApplicationClient</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ApplicationNotRunningError</dt><dd><p>If the application isn’t running.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.Client.from_global_driver">
<em class="property">classmethod </em><code class="sig-name descname">from_global_driver</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.from_global_driver" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to the global driver.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Client.get_all_queues">
<code class="sig-name descname">get_all_queues</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.get_all_queues" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about all queues in the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>queues</strong><span class="classifier">list of Queue</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">get_all_queues</span><span class="p">()</span>
<span class="go">[Queue&lt;name=&#39;default&#39;, percent_used=0.00&gt;,</span>
<span class="go"> Queue&lt;name=&#39;myqueue&#39;, percent_used=5.00&gt;,</span>
<span class="go"> Queue&lt;name=&#39;child1&#39;, percent_used=10.00&gt;,</span>
<span class="go"> Queue&lt;name=&#39;child2&#39;, percent_used=0.00&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.Client.get_applications">
<code class="sig-name descname">get_applications</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">states=None</em>, <em class="sig-param">name=None</em>, <em class="sig-param">user=None</em>, <em class="sig-param">queue=None</em>, <em class="sig-param">started_begin=None</em>, <em class="sig-param">started_end=None</em>, <em class="sig-param">finished_begin=None</em>, <em class="sig-param">finished_end=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.get_applications" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the status of current skein applications.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>states</strong><span class="classifier">sequence of ApplicationState, optional</span></dt><dd><p>If provided, applications will be filtered to these application
states. Default is <code class="docutils literal notranslate"><span class="pre">['SUBMITTED',</span> <span class="pre">'ACCEPTED',</span> <span class="pre">'RUNNING']</span></code>.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str, optional</span></dt><dd><p>Only select applications with this name.</p>
</dd>
<dt><strong>user</strong><span class="classifier">str, optional</span></dt><dd><p>Only select applications with this user.</p>
</dd>
<dt><strong>queue</strong><span class="classifier">str, optional</span></dt><dd><p>Only select applications in this queue.</p>
</dd>
<dt><strong>started_begin</strong><span class="classifier">datetime or str, optional</span></dt><dd><p>Only select applications that started after this time (inclusive).
Can be either a datetime or a string representation of one. String
representations can use any of the following formats:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">YYYY-M-D</span> <span class="pre">H:M:S</span></code> (e.g. 2019-4-10 14:50:20)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">YYYY-M-D</span> <span class="pre">H:M</span></code> (e.g. 2019-4-10 14:50)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">YYYY-M-D</span></code> (e.g. 2019-4-10)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">H:M:S</span></code> (e.g. 14:50:20, today is used for date)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">H:M</span></code> (e.g. 14:50, today is used for date)</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>started_end</strong><span class="classifier">datetime or str, optional</span></dt><dd><p>Only select applications that started before this time (inclusive).
Can be either a datetime or a string representation of one.</p>
</dd>
<dt><strong>finished_begin</strong><span class="classifier">datetime or str, optional</span></dt><dd><p>Only select applications that finished after this time (inclusive).
Can be either a datetime or a string representation of one.</p>
</dd>
<dt><strong>finished_end</strong><span class="classifier">datetime or str, optional</span></dt><dd><p>Only select applications that finished before this time (inclusive).
Can be either a datetime or a string representation of one.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>reports</strong><span class="classifier">list of ApplicationReport</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Get all the finished and failed applications</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">get_applications</span><span class="p">(</span><span class="n">states</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;FINISHED&#39;</span><span class="p">,</span> <span class="s1">&#39;FAILED&#39;</span><span class="p">])</span>
<span class="go">[ApplicationReport&lt;name=&#39;demo&#39;&gt;,</span>
<span class="go"> ApplicationReport&lt;name=&#39;dask&#39;&gt;,</span>
<span class="go"> ApplicationReport&lt;name=&#39;demo&#39;&gt;]</span>
</pre></div>
</div>
<p>Get all applications named ‘demo’ started after 2019-4-10:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">get_applications</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;demo&#39;</span><span class="p">,</span> <span class="n">started_begin</span><span class="o">=</span><span class="s1">&#39;2019-4-10&#39;</span><span class="p">)</span>
<span class="go">[ApplicationReport&lt;name=&#39;demo&#39;&gt;,</span>
<span class="go"> ApplicationReport&lt;name=&#39;demo&#39;&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.Client.get_child_queues">
<code class="sig-name descname">get_child_queues</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.get_child_queues" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about all children of a parent queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>The parent queue name.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>queues</strong><span class="classifier">list of Queue</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">get_child_queues</span><span class="p">(</span><span class="s1">&#39;myqueue&#39;</span><span class="p">)</span>
<span class="go">[Queue&lt;name=&#39;child1&#39;, percent_used=10.00&gt;,</span>
<span class="go"> Queue&lt;name=&#39;child2&#39;, percent_used=0.00&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.Client.get_nodes">
<code class="sig-name descname">get_nodes</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">states=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.get_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the status of nodes in the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>states</strong><span class="classifier">sequence of NodeState, optional</span></dt><dd><p>If provided, nodes will be filtered to these node states. Default
is all states.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>reports</strong><span class="classifier">list of NodeReport</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Get all the running nodes</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">get_nodes</span><span class="p">(</span><span class="n">states</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;RUNNING&#39;</span><span class="p">])</span>
<span class="go">[NodeReport&lt;id=&#39;worker1.example.com:34721&#39;&gt;,</span>
<span class="go"> NodeReport&lt;id=&#39;worker2.example.com:34721&#39;&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.Client.get_queue">
<code class="sig-name descname">get_queue</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.get_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about a queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>The queue name.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>queue</strong><span class="classifier">Queue</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">get_queue</span><span class="p">(</span><span class="s1">&#39;myqueue&#39;</span><span class="p">)</span>
<span class="go">Queue&lt;name=&#39;myqueue&#39;, percent_used=5.00&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.Client.kill_application">
<code class="sig-name descname">kill_application</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">app_id</em>, <em class="sig-param">user=''</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.kill_application" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill an application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>app_id</strong><span class="classifier">str</span></dt><dd><p>The id of the application to kill.</p>
</dd>
<dt><strong>user</strong><span class="classifier">str, optional</span></dt><dd><p>The user to kill the application as. Requires the current user to
have permissions to proxy as <code class="docutils literal notranslate"><span class="pre">user</span></code>. Default is the current user.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.Client.move_application">
<code class="sig-name descname">move_application</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">app_id</em>, <em class="sig-param">queue</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.move_application" title="Permalink to this definition">¶</a></dt>
<dd><p>Move an application to a different queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>app_id</strong><span class="classifier">str</span></dt><dd><p>The id of the application to move.</p>
</dd>
<dt><strong>queue</strong><span class="classifier">str</span></dt><dd><p>The queue to move the application to.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.Client.start_global_driver">
<em class="property">static </em><code class="sig-name descname">start_global_driver</code><span class="sig-paren">(</span><em class="sig-param">keytab=None</em>, <em class="sig-param">principal=None</em>, <em class="sig-param">log=None</em>, <em class="sig-param">log_level=None</em>, <em class="sig-param">java_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.start_global_driver" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the global driver.</p>
<p>No-op if the global driver is already running.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>keytab</strong><span class="classifier">str, optional</span></dt><dd><p>Path to a keytab file to use when starting the driver. If not
provided, the driver will login using the ticket cache instead.</p>
</dd>
<dt><strong>principal</strong><span class="classifier">str, optional</span></dt><dd><p>The principal to use when starting the driver with a keytab.</p>
</dd>
<dt><strong>log</strong><span class="classifier">str, bool, or None, optional</span></dt><dd><p>Sets the logging behavior for the driver. Values may be a path for
logs to be written to, <code class="docutils literal notranslate"><span class="pre">None</span></code> to log to stdout/stderr, or
<code class="docutils literal notranslate"><span class="pre">False</span></code> to turn off logging completely. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt><strong>log_level</strong><span class="classifier">str or skein.model.LogLevel, optional</span></dt><dd><p>The driver log level. Sets the <code class="docutils literal notranslate"><span class="pre">skein.log.level</span></code> system property.
One of {‘ALL’, ‘TRACE’, ‘DEBUG’, ‘INFO’, ‘WARN’, ‘ERROR’, ‘FATAL’,
‘OFF’} (from most to least verbose). Default is ‘INFO’.</p>
</dd>
<dt><strong>java_options</strong><span class="classifier">str or list of str, optional</span></dt><dd><p>Additional Java options to forward to the driver. Can also be
configured by setting the environment variable
<code class="docutils literal notranslate"><span class="pre">SKEIN_DRIVER_JAVA_OPTIONS</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>address</strong><span class="classifier">str</span></dt><dd><p>The address of the driver</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.Client.stop_global_driver">
<em class="property">static </em><code class="sig-name descname">stop_global_driver</code><span class="sig-paren">(</span><em class="sig-param">force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.stop_global_driver" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the global driver if running.</p>
<p>No-op if no global driver is running.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>force</strong><span class="classifier">bool, optional</span></dt><dd><p>By default skein will check that the process associated with the
driver PID is actually a skein driver. Setting <code class="docutils literal notranslate"><span class="pre">force</span></code> to
<code class="docutils literal notranslate"><span class="pre">True</span></code> will kill the process in all cases.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.Client.submit">
<code class="sig-name descname">submit</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">spec</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a new skein application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>spec</strong><span class="classifier">ApplicationSpec, str, or dict</span></dt><dd><p>A description of the application to run. Can be an
<code class="docutils literal notranslate"><span class="pre">ApplicationSpec</span></code> object, a path to a yaml/json file, or a
dictionary description of an application specification.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>app_id</strong><span class="classifier">str</span></dt><dd><p>The id of the submitted application.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.Client.submit_and_connect">
<code class="sig-name descname">submit_and_connect</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">spec</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Client.submit_and_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a new skein application, and wait to connect to it.</p>
<p>If an error occurs before the application connects, the application is
killed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>spec</strong><span class="classifier">ApplicationSpec, str, or dict</span></dt><dd><p>A description of the application to run. Can be an
<code class="docutils literal notranslate"><span class="pre">ApplicationSpec</span></code> object, a path to a yaml/json file, or a
dictionary description of an application specification.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>app_client</strong><span class="classifier">ApplicationClient</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="application-client">
<h2>Application Client<a class="headerlink" href="#application-client" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="skein.ApplicationClient">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">ApplicationClient</code><span class="sig-paren">(</span><em class="sig-param">address</em>, <em class="sig-param">app_id</em>, <em class="sig-param">security=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationClient" title="Permalink to this definition">¶</a></dt>
<dd><p>A client for the application master.</p>
<p>Used to interact with a running application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>address</strong><span class="classifier">str</span></dt><dd><p>The address of the application master.</p>
</dd>
<dt><strong>app_id</strong><span class="classifier">str</span></dt><dd><p>The application id</p>
</dd>
<dt><strong>security</strong><span class="classifier">Security, optional</span></dt><dd><p>The security configuration to use to communicate with the
application master.  Defaults to the global configuration.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.ApplicationClient.add_container">
<code class="sig-name descname">add_container</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">service</em>, <em class="sig-param">env=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationClient.add_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new container to a service.</p>
<p>Unlike <code class="docutils literal notranslate"><span class="pre">scale</span></code>, this adds the ability to override configuration of
the requested container.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>service</strong><span class="classifier">str</span></dt><dd><p>The service to scale.</p>
</dd>
<dt><strong>env</strong><span class="classifier">dict, optional</span></dt><dd><p>A mapping of environment variables to set in the container. These
will be applied after any environment variables set in the service
description, and can be used as overrides.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>container</strong><span class="classifier">Container</span></dt><dd><p>The new container that was started.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationClient.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationClient.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Release all resources used by this client. Idempotent.</p>
<p>Note that this only frees resources used by the client, it doesn’t
shutdown the application itself. For that see <code class="docutils literal notranslate"><span class="pre">shutdown</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationClient.from_current">
<em class="property">classmethod </em><code class="sig-name descname">from_current</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationClient.from_current" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an application client from within a running container.</p>
<p>Useful for connecting to the application master from a running
container in a application.</p>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationClient.get_containers">
<code class="sig-name descname">get_containers</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">services=None</em>, <em class="sig-param">states=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationClient.get_containers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information on containers in this application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>services</strong><span class="classifier">sequence of str, optional</span></dt><dd><p>If provided, containers will be filtered to these services.
Default is all services.</p>
</dd>
<dt><strong>states</strong><span class="classifier">sequence of ContainerState, optional</span></dt><dd><p>If provided, containers will be filtered by these container states.
Default is <code class="docutils literal notranslate"><span class="pre">['WAITING',</span> <span class="pre">'REQUESTED',</span> <span class="pre">'RUNNING']</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>containers</strong><span class="classifier">list of Container</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationClient.get_specification">
<code class="sig-name descname">get_specification</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationClient.get_specification" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the specification for the running application.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>spec</strong><span class="classifier">ApplicationSpec</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationClient.kill_container">
<code class="sig-name descname">kill_container</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">id</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationClient.kill_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill a container.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>id</strong><span class="classifier">str</span></dt><dd><p>The id of the container to kill.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="skein.ApplicationClient.kv">
<code class="sig-name descname">kv</code><a class="headerlink" href="#skein.ApplicationClient.kv" title="Permalink to this definition">¶</a></dt>
<dd><p>The Skein Key-Value store.</p>
<p>Used by applications to coordinate configuration and global state.</p>
<p>This implements the standard MutableMapping interface, along with the
ability to “wait” for keys to be set. Keys are strings, with values as
bytes.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app_client</span><span class="o">.</span><span class="n">kv</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app_client</span><span class="o">.</span><span class="n">kv</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span>
<span class="go">b&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">app_client</span><span class="o">.</span><span class="n">kv</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;foo&#39;</span> <span class="ow">in</span> <span class="n">app_client</span><span class="o">.</span><span class="n">kv</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Wait until the key is set, either by another service or by a user
client. This is useful for inter-service synchronization.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app_client</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationClient.scale">
<code class="sig-name descname">scale</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">service</em>, <em class="sig-param">count=None</em>, <em class="sig-param">delta=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationClient.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale a service to a requested number of instances.</p>
<p>Adds or removes containers to match the requested number of instances.
The number of instances for the service can be specified either as a
total count or a delta in that count.</p>
<p>When choosing which containers to remove, containers are removed in
order of state (<code class="docutils literal notranslate"><span class="pre">WAITING</span></code>, <code class="docutils literal notranslate"><span class="pre">REQUESTED</span></code>, <code class="docutils literal notranslate"><span class="pre">RUNNING</span></code>) followed by
age (oldest to newest).</p>
<p>When specified as a negative <code class="docutils literal notranslate"><span class="pre">delta</span></code>, if the number of removed
containers is greater than the number of existing containers, all
containers are removed rather than throwing an error. This means that
<code class="docutils literal notranslate"><span class="pre">app.scale(delta=-1)</span></code> will remove a container if one exists,
otherwise it will do nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>service</strong><span class="classifier">str</span></dt><dd><p>The service to scale.</p>
</dd>
<dt><strong>count</strong><span class="classifier">int, optional</span></dt><dd><p>The number of instances to scale to.</p>
</dd>
<dt><strong>delta</strong><span class="classifier">int, optional</span></dt><dd><p>The change in number of instances.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>containers</strong><span class="classifier">list of Container</span></dt><dd><p>A list of containers that were started or stopped.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationClient.set_progress">
<code class="sig-name descname">set_progress</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">progress</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationClient.set_progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the progress for this application.</p>
<p>For applications processing a fixed set of work it may be useful for
diagnostics to set the progress as the application processes.</p>
<p>Progress indicates job progression, and must be a float between 0 and
1. By default the progress is set at 0.1 for its duration, which is a
good default value for applications that don’t know their progress,
(e.g. interactive applications).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>progress</strong><span class="classifier">float</span></dt><dd><p>The application progress, must be a value between 0 and 1.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationClient.shutdown">
<code class="sig-name descname">shutdown</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">status='SUCCEEDED'</em>, <em class="sig-param">diagnostics=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationClient.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Shutdown the application.</p>
<p>Stop all running containers and shutdown the application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>status</strong><span class="classifier">FinalStatus, optional</span></dt><dd><p>The final application status. Default is ‘SUCCEEDED’.</p>
</dd>
<dt><strong>diagnostics</strong><span class="classifier">str, optional</span></dt><dd><p>The application exit message, usually used for diagnosing failures.
Can be seen in the YARN Web UI for completed applications under
“diagnostics”, as well as the <code class="docutils literal notranslate"><span class="pre">diagnostic</span></code> field of
<code class="docutils literal notranslate"><span class="pre">ApplicationReport</span></code> objects. If not provided, a default will be
used.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="skein.ApplicationClient.ui">
<code class="sig-name descname">ui</code><a class="headerlink" href="#skein.ApplicationClient.ui" title="Permalink to this definition">¶</a></dt>
<dd><p>The Skein Web UI.</p>
<p>Used by applications to register additional web pages, and to get the
addresses of these pages.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="runtime-properties">
<h2>Runtime Properties<a class="headerlink" href="#runtime-properties" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="skein.properties">
<code class="sig-prename descclassname">skein.</code><code class="sig-name descname">properties</code><em class="property"> = &lt;skein.core.Properties object&gt;</em><a class="headerlink" href="#skein.properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Skein runtime properties.</p>
<p>This class implements an immutable mapping type, exposing properties
determined at import time.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>application_id</strong><span class="classifier">str or None</span></dt><dd><p>The current application id. None if not running in a container.</p>
</dd>
<dt><strong>appmaster_address</strong><span class="classifier">str or None</span></dt><dd><p>The address of the current application’s appmaster. None if not running
in a container.</p>
</dd>
<dt><strong>config_dir</strong><span class="classifier">str</span></dt><dd><p>The path to the configuration directory.</p>
</dd>
<dt><strong>container_id</strong><span class="classifier">str or None</span></dt><dd><p>The current skein container id (of the form
<code class="docutils literal notranslate"><span class="pre">'{service}_{instance}'</span></code>). None if not running in a container.</p>
</dd>
<dt><strong>container_resources</strong><span class="classifier">Resources or None</span></dt><dd><p>The resources allocated to the current container. None if not in a
container.</p>
</dd>
<dt><strong>container_dir</strong><span class="classifier">str or None</span></dt><dd><p>The absolute path to the working directory for this container. None if
not in a container.</p>
</dd>
<dt><strong>yarn_container_id</strong><span class="classifier">str or None</span></dt><dd><p>The current YARN container id. None if not running in a container.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="key-value-store">
<h2>Key Value Store<a class="headerlink" href="#key-value-store" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="skein.kv.KeyValueStore">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">KeyValueStore</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore" title="Permalink to this definition">¶</a></dt>
<dd><p>The Skein Key-Value store.</p>
<p>Used by applications to coordinate configuration and global state.</p>
<dl class="method">
<dt id="skein.kv.KeyValueStore.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">prefix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Count keys in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no
lower bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no
upper bound will be used.</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str, optional</span></dt><dd><p>If provided, will count the number keys matching this prefix.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>int</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.discard">
<code class="sig-name descname">discard</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.discard" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard a single key.</p>
<p>Returns true if the key was present, false otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to discard.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.discard_prefix">
<code class="sig-name descname">discard_prefix</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">prefix</em>, <em class="sig-param">return_keys=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.discard_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard all key-value pairs whose keys start with <code class="docutils literal notranslate"><span class="pre">prefix</span></code>.</p>
<p>Returns either the number of keys discarded or a list of those keys,
depending on the value of <code class="docutils literal notranslate"><span class="pre">return_keys</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>prefix</strong><span class="classifier">str</span></dt><dd><p>The key prefix.</p>
</dd>
<dt><strong>return_keys</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the discarded keys will be returned instead of their count.
Default is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>int or list of keys</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.discard_range">
<code class="sig-name descname">discard_range</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">return_keys=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.discard_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard a range of keys.</p>
<p>Returns either the number of keys discarded or a list of those keys,
depending on the value of <code class="docutils literal notranslate"><span class="pre">return_keys</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no lower
bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no upper
bound will be used.</p>
</dd>
<dt><strong>return_keys</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the discarded keys will be returned instead of their count.
Default is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>int or list of keys</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.event_queue">
<code class="sig-name descname">event_queue</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.event_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new EventQueue subscribed to no events.</p>
<p class="rubric">Examples</p>
<p>Subscribe to events starting with <code class="docutils literal notranslate"><span class="pre">'foo'</span></code> or <code class="docutils literal notranslate"><span class="pre">'bar'</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="n">skein</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">EventFilter</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bar</span> <span class="o">=</span> <span class="n">skein</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">EventFilter</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">event_queue</span><span class="p">()</span>              
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>                      
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">bar</span><span class="p">)</span>                      
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">queue</span><span class="p">:</span>                       
<span class="gp">... </span>    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">filter</span> <span class="o">==</span> <span class="n">foo</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;foo event&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;bar event&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.events">
<code class="sig-name descname">events</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">event_filter=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">event_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.events" title="Permalink to this definition">¶</a></dt>
<dd><p>Shorthand for creating an EventQueue and adding a single filter.</p>
<p>May provide either an explicit event filter, or provide arguments to
create a new one and add it to the queue.</p>
<p>If no arguments are provided, creates a queue subscribed to all events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>event_filter</strong><span class="classifier">EventFilter</span></dt><dd><p>An explicit EventFilter. If provided, no other keyword arguments
may be provided.</p>
</dd>
<dt><strong>key</strong><span class="classifier">str, optional</span></dt><dd><p>If present, only events from this key will be selected.</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str, optional</span></dt><dd><p>If present, only events with this key prefix will be selected.</p>
</dd>
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>If present, specifies the lower bound of the key range, inclusive.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>If present, specifies the upper bound of the key range, exclusive.</p>
</dd>
<dt><strong>event_type</strong><span class="classifier">EventType, optional.</span></dt><dd><p>The type of event. Default is <code class="docutils literal notranslate"><span class="pre">'ALL'</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>EventQueue</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Subscribe to all events with prefix <code class="docutils literal notranslate"><span class="pre">'foo'</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">app</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">events</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">):</span>  
<span class="gp">... </span>    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;PUT&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PUT&lt;key=</span><span class="si">%r</span><span class="s2">, value=</span><span class="si">%r</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>  <span class="c1"># DELETE</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DELETE&lt;key=</span><span class="si">%r</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
<span class="go">PUT&lt;key=&#39;foo&#39;, value=b&#39;bar&#39;&gt;</span>
<span class="go">PUT&lt;key=&#39;food&#39;, value=b&#39;biz&#39;&gt;</span>
<span class="go">DELETE&lt;key=&#39;food&#39;&gt;</span>
<span class="go">PUT&lt;key=&#39;foo&#39;, value=b&#39;changed&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a key exists in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to check the presence of.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em>, <em class="sig-param">default=None</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value associated with a single key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to get.</p>
</dd>
<dt><strong>default</strong><span class="classifier">bytes or None, optional</span></dt><dd><p>Default value to return if the key is not present.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bytes or ValueOwnerPair</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.get_prefix">
<code class="sig-name descname">get_prefix</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">prefix</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.get_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all key-value pairs whose keys start with <code class="docutils literal notranslate"><span class="pre">prefix</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>prefix</strong><span class="classifier">str</span></dt><dd><p>The key prefix.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>OrderedDict</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.get_range">
<code class="sig-name descname">get_range</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.get_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a range of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no lower
bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no upper
bound will be used.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>OrderedDict</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.items">
<code class="sig-name descname">items</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.keys">
<code class="sig-name descname">keys</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.list_keys">
<code class="sig-name descname">list_keys</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">prefix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.list_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of keys in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no
lower bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no
upper bound will be used.</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str, optional</span></dt><dd><p>If provided, will return all keys matching this prefix.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>list of keys</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.missing">
<code class="sig-name descname">missing</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.missing" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a key is not in the key-value store.</p>
<p>This is the inverse of <code class="docutils literal notranslate"><span class="pre">exists</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to check the absence of.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em>, <em class="sig-param">default=None</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a single key and return its corresponding value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to pop.</p>
</dd>
<dt><strong>default</strong><span class="classifier">bytes or None, optional</span></dt><dd><p>Default value to return if the key is not present.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bytes or ValueOwnerPair</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.pop_prefix">
<code class="sig-name descname">pop_prefix</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">prefix</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.pop_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all key-value pairs whose keys start with <code class="docutils literal notranslate"><span class="pre">prefix</span></code>, and return
their corresponding values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>prefix</strong><span class="classifier">str</span></dt><dd><p>The key prefix.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>OrderedDict</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.pop_range">
<code class="sig-name descname">pop_range</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.pop_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a range of keys and return their corresponding values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no lower
bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no upper
bound will be used.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>OrderedDict</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.popitem">
<code class="sig-name descname">popitem</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.popitem" title="Permalink to this definition">¶</a></dt>
<dd><p>as a 2-tuple; but raise KeyError if D is empty.</p>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em>, <em class="sig-param">value=no_change</em>, <em class="sig-param">owner=no_change</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a value and/or owner for a single key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to put.</p>
</dd>
<dt><strong>value</strong><span class="classifier">bytes, optional</span></dt><dd><p>The value to put. Default is to leave value unchanged;
an error will be raised if the key doesn’t exist.</p>
</dd>
<dt><strong>owner</strong><span class="classifier">str or None, optional</span></dt><dd><p>The container id to claim ownership. Provide <code class="docutils literal notranslate"><span class="pre">None</span></code> to set to
no owner. Default is to leave value unchanged.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.setdefault">
<code class="sig-name descname">setdefault</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em>, <em class="sig-param">default</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value associated with key, setting it to default if
not present.</p>
<p>This transaction happens atomically on the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key</p>
</dd>
<dt><strong>default</strong><span class="classifier">bytes</span></dt><dd><p>The default value to set if the key isn’t present.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>value</strong><span class="classifier">bytes</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.swap">
<code class="sig-name descname">swap</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em>, <em class="sig-param">value=no_change</em>, <em class="sig-param">owner=no_change</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.swap" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a new value and/or owner for a single key, and return the
previous value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to put.</p>
</dd>
<dt><strong>value</strong><span class="classifier">bytes, optional</span></dt><dd><p>The value to put. Default is to leave value unchanged;
an error will be raised if the key doesn’t exist.</p>
</dd>
<dt><strong>owner</strong><span class="classifier">str or None, optional</span></dt><dd><p>The container id to claim ownership. Provide <code class="docutils literal notranslate"><span class="pre">None</span></code> to set to
no owner. Default is to leave value unchanged.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bytes or ValueOwnerPair</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.transaction">
<code class="sig-name descname">transaction</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">conditions=None</em>, <em class="sig-param">on_success=None</em>, <em class="sig-param">on_failure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>An atomic transaction on the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>conditions</strong><span class="classifier">Condition or sequence of Conditions, optional</span></dt><dd><p>A sequence of conditions to evaluate together. The conditional
expression succeeds if all conditions evaluate to True, and fails
otherwise. If no conditions are provided the conditional expression
also succeeds.</p>
</dd>
<dt><strong>on_success</strong><span class="classifier">Operation or sequence of Operation, optional</span></dt><dd><p>A sequence of operations to apply if all conditions evaluate to
True.</p>
</dd>
<dt><strong>on_failure</strong><span class="classifier">Operation or sequence of Operation, optional</span></dt><dd><p>A sequence of operations to apply if any condition evaluates to
False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">TransactionResult</span></dt><dd><p>A namedtuple of (succeeded, results), where results is a list of
results from either the <code class="docutils literal notranslate"><span class="pre">on_success</span></code> or <code class="docutils literal notranslate"><span class="pre">on_failure</span></code>
operations, depending on which branch was evaluated.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>This implements an atomic <a class="reference external" href="https://en.wikipedia.org/wiki/Compare-and-swap">compare-and-swap</a> operation, a useful
concurrency primitive. It sets <code class="docutils literal notranslate"><span class="pre">key</span></code> to <code class="docutils literal notranslate"><span class="pre">new</span></code> only if it currently
is <code class="docutils literal notranslate"><span class="pre">prev</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skein</span> <span class="kn">import</span> <span class="n">kv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">compare_and_swap</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">new</span><span class="p">,</span> <span class="n">prev</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">conditions</span><span class="o">=</span><span class="p">[</span><span class="n">kv</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">==</span> <span class="n">prev</span><span class="p">],</span>  <span class="c1"># if key == prev</span>
<span class="gp">... </span>        <span class="n">on_success</span><span class="o">=</span><span class="p">[</span><span class="n">kv</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">new</span><span class="p">)])</span>       <span class="c1"># then set key = new</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">succeeded</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">kv</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;value&#39;</span>  
</pre></div>
</div>
<p>Since <code class="docutils literal notranslate"><span class="pre">'key'</span></code> currently is <code class="docutils literal notranslate"><span class="pre">b'value'</span></code>, the conditional expression
succeeds and <code class="docutils literal notranslate"><span class="pre">'key'</span></code> is set to <code class="docutils literal notranslate"><span class="pre">b'new_value'</span></code></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">compare_and_swap</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;new_value&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>  
<span class="go">True</span>
</pre></div>
</div>
<p>Since <code class="docutils literal notranslate"><span class="pre">'key'</span></code> currently is <code class="docutils literal notranslate"><span class="pre">b'value'</span></code> and not <code class="docutils literal notranslate"><span class="pre">b'wrong'</span></code>, the
conditional expression fails and <code class="docutils literal notranslate"><span class="pre">'key'</span></code> remains unchanged.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">compare_and_swap</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;another_value&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;wrong&#39;</span><span class="p">)</span>  
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the key-value store with multiple key-value pairs atomically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>arg</strong><span class="classifier">mapping or iterable, optional</span></dt><dd><p>Either a mapping or an iterable of <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">value)</span></code>.</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Extra key-value pairs to set. Semantically these are applied after
any present in <code class="docutils literal notranslate"><span class="pre">arg</span></code>, and will thus override any intersecting
keys between the two.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.values">
<code class="sig-name descname">values</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="skein.kv.KeyValueStore.wait">
<code class="sig-name descname">wait</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.KeyValueStore.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value associated with a single key, blocking until the key
exists if not present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to get.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bytes or ValueOwnerPair</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.kv.ValueOwnerPair">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">ValueOwnerPair</code><a class="headerlink" href="#skein.kv.ValueOwnerPair" title="Permalink to this definition">¶</a></dt>
<dd><p>A (value, owner) pair in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>value</strong><span class="classifier">bytes</span></dt><dd><p>The value.</p>
</dd>
<dt><strong>owner</strong><span class="classifier">str or None</span></dt><dd><p>The owner container_id, or None for no owner.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.count">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">prefix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.count" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to count keys in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no
lower bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no
upper bound will be used.</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str, optional</span></dt><dd><p>If provided, will count the number keys matching this prefix.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">prefix=None</em><span class="sig-paren">)</span></dt>
<dd><p>A request to count keys in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no
lower bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no
upper bound will be used.</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str, optional</span></dt><dd><p>If provided, will count the number keys matching this prefix.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.list_keys">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">list_keys</code><span class="sig-paren">(</span><em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">prefix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.list_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to get a list of keys in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no
lower bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no
upper bound will be used.</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str, optional</span></dt><dd><p>If provided, will return all keys matching this prefix.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.exists">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">exists</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to check if a key exists in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to check the presence of.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.missing">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">missing</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.missing" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to check if a key is not in the key-value store.</p>
<p>This is the inverse of <code class="docutils literal notranslate"><span class="pre">exists</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to check the absence of.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.get">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">default=None</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.get" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to get the value associated with a single key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to get.</p>
</dd>
<dt><strong>default</strong><span class="classifier">bytes or None, optional</span></dt><dd><p>Default value to return if the key is not present.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.get_prefix">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">get_prefix</code><span class="sig-paren">(</span><em class="sig-param">prefix</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.get_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to get all key-value pairs whose keys start with <code class="docutils literal notranslate"><span class="pre">prefix</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>prefix</strong><span class="classifier">str</span></dt><dd><p>The key prefix.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.get_range">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">get_range</code><span class="sig-paren">(</span><em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.get_range" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to get a range of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no lower
bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no upper
bound will be used.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.pop">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">default=None</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to remove a single key and return its corresponding value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to pop.</p>
</dd>
<dt><strong>default</strong><span class="classifier">bytes or None, optional</span></dt><dd><p>Default value to return if the key is not present.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.pop_prefix">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">pop_prefix</code><span class="sig-paren">(</span><em class="sig-param">prefix</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.pop_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to remove all key-value pairs whose keys start with <code class="docutils literal notranslate"><span class="pre">prefix</span></code>,
and return their corresponding values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>prefix</strong><span class="classifier">str</span></dt><dd><p>The key prefix.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.pop_range">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">pop_range</code><span class="sig-paren">(</span><em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.pop_range" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to remove a range of keys and return their corresponding values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no lower
bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no upper
bound will be used.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.discard">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">discard</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.discard" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to discard a single key.</p>
<p>Returns true if the key was present, false otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to discard.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.discard_prefix">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">discard_prefix</code><span class="sig-paren">(</span><em class="sig-param">prefix</em>, <em class="sig-param">return_keys=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.discard_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to discard all key-value pairs whose keys start with <code class="docutils literal notranslate"><span class="pre">prefix</span></code>.</p>
<p>Returns either the number of keys discarded or a list of those keys,
depending on the value of <code class="docutils literal notranslate"><span class="pre">return_keys</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>prefix</strong><span class="classifier">str</span></dt><dd><p>The key prefix.</p>
</dd>
<dt><strong>return_keys</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the discarded keys will be returned instead of their count.
Default is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.discard_range">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">discard_range</code><span class="sig-paren">(</span><em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">return_keys=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.discard_range" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to discard a range of keys.</p>
<p>Returns either the number of keys discarded or a list of those keys,
depending on the value of <code class="docutils literal notranslate"><span class="pre">return_keys</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>The lower bound of the key range, inclusive. If not provided no lower
bound will be used.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>The upper bound of the key range, exclusive. If not provided, no upper
bound will be used.</p>
</dd>
<dt><strong>return_keys</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the discarded keys will be returned instead of their count.
Default is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.put">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">value=no_change</em>, <em class="sig-param">owner=no_change</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.put" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to assign a value and/or owner for a single key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to put.</p>
</dd>
<dt><strong>value</strong><span class="classifier">bytes, optional</span></dt><dd><p>The value to put. Default is to leave value unchanged;
an error will be raised if the key doesn’t exist.</p>
</dd>
<dt><strong>owner</strong><span class="classifier">str or None, optional</span></dt><dd><p>The container id to claim ownership. Provide <code class="docutils literal notranslate"><span class="pre">None</span></code> to set to
no owner. Default is to leave value unchanged.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.swap">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">swap</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">value=no_change</em>, <em class="sig-param">owner=no_change</em>, <em class="sig-param">return_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.swap" title="Permalink to this definition">¶</a></dt>
<dd><p>A request to assign a new value and/or owner for a single key, and
return the previous value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to put.</p>
</dd>
<dt><strong>value</strong><span class="classifier">bytes, optional</span></dt><dd><p>The value to put. Default is to leave value unchanged;
an error will be raised if the key doesn’t exist.</p>
</dd>
<dt><strong>owner</strong><span class="classifier">str or None, optional</span></dt><dd><p>The container id to claim ownership. Provide <code class="docutils literal notranslate"><span class="pre">None</span></code> to set to
no owner. Default is to leave value unchanged.</p>
</dd>
<dt><strong>return_owner</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the owner will also be returned along with the value. Default
is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.TransactionResult">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">TransactionResult</code><a class="headerlink" href="#skein.kv.TransactionResult" title="Permalink to this definition">¶</a></dt>
<dd><p>A result from a key-value store transaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>succeeded</strong><span class="classifier">bool</span></dt><dd><p>Whether the transaction conditions evaluated to True.</p>
</dd>
<dt><strong>results</strong><span class="classifier">sequence</span></dt><dd><p>A sequence of results from applying all operations in the transaction
<code class="docutils literal notranslate"><span class="pre">on_success</span></code> or <code class="docutils literal notranslate"><span class="pre">on_failure</span></code> parameters, depending on whether the
conditions evaluated to True or False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.value">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">value</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the value for a key, for use in transaction conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to lookup</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.owner">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">owner</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.owner" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the owner for a key, for use in transaction conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key to lookup</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.comparison">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">comparison</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">field</em>, <em class="sig-param">operator</em>, <em class="sig-param">rhs</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.comparison" title="Permalink to this definition">¶</a></dt>
<dd><p>A comparison of the value or owner for a specified key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The corresponding key.</p>
</dd>
<dt><strong>field</strong><span class="classifier">{‘value’, ‘owner’}</span></dt><dd><p>The field to compare on.</p>
</dd>
<dt><strong>operator</strong><span class="classifier">{‘==’, ‘!=’, ‘&gt;’, ‘&gt;=’, ‘&lt;’, ‘&lt;=’}</span></dt><dd><p>The comparison operator to use.</p>
</dd>
<dt><strong>rhs</strong><span class="classifier">bytes, str or None</span></dt><dd><p>The right-hand-side of the condition expression.
Must be a <code class="docutils literal notranslate"><span class="pre">bytes</span></code> if  <code class="docutils literal notranslate"><span class="pre">field='value'</span></code>, or <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code> if
<code class="docutils literal notranslate"><span class="pre">field='owner'</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="skein.kv.is_condition">
<code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">is_condition</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.is_condition" title="Permalink to this definition">¶</a></dt>
<dd><p>Return if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a valid skein key-value store condition</p>
</dd></dl>

<dl class="function">
<dt id="skein.kv.is_operation">
<code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">is_operation</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.is_operation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a valid skein key-value store operation</p>
</dd></dl>

<dl class="class">
<dt id="skein.kv.EventType">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">EventType</code><a class="headerlink" href="#skein.kv.EventType" title="Permalink to this definition">¶</a></dt>
<dd><p>Event types to listen on.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ALL</strong><span class="classifier">EventType</span></dt><dd><p>All events.</p>
</dd>
<dt><strong>PUT</strong><span class="classifier">EventType</span></dt><dd><p>Only <code class="docutils literal notranslate"><span class="pre">PUT</span></code> events.</p>
</dd>
<dt><strong>DELETE</strong><span class="classifier">EventType</span></dt><dd><p>Only <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> events.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.Event">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">Event</code><a class="headerlink" href="#skein.kv.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>An event in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>The key affected.</p>
</dd>
<dt><strong>result</strong><span class="classifier">ValueOwnerPair or None</span></dt><dd><p>The value and owner for the key.  None if a <code class="docutils literal notranslate"><span class="pre">'DELETE'</span></code> event.</p>
</dd>
<dt><strong>event_type</strong><span class="classifier">EventType</span></dt><dd><p>The type of event.</p>
</dd>
<dt><strong>event_filter</strong><span class="classifier">EventFilter</span></dt><dd><p>The event filter that generated the event.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.EventFilter">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">EventFilter</code><span class="sig-paren">(</span><em class="sig-param">key=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">event_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.EventFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>An event filter.</p>
<p>Specifies a subset of events to watch for. May specify one of <code class="docutils literal notranslate"><span class="pre">key</span></code>,
<code class="docutils literal notranslate"><span class="pre">prefix</span></code>, or <code class="docutils literal notranslate"><span class="pre">start</span></code>/<code class="docutils literal notranslate"><span class="pre">end</span></code>. If no parameters are
provided, selects all events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str, optional</span></dt><dd><p>If present, only events from this key will be selected.</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str, optional</span></dt><dd><p>If present, only events with this key prefix will be selected.</p>
</dd>
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>If present, specifies the lower bound of the key range, inclusive.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>If present, specifies the upper bound of the key range, exclusive.</p>
</dd>
<dt><strong>event_type</strong><span class="classifier">EventType, optional.</span></dt><dd><p>The type of event. Default is <code class="docutils literal notranslate"><span class="pre">'ALL'</span></code></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.kv.EventQueue">
<em class="property">class </em><code class="sig-prename descclassname">skein.kv.</code><code class="sig-name descname">EventQueue</code><span class="sig-paren">(</span><em class="sig-param">kv</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.EventQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>A queue of events on the key-value store.</p>
<p>Besides the normal <code class="docutils literal notranslate"><span class="pre">Queue</span></code> interface, also supports iteration.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">app</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">events</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</pre></div>
</div>
<p>If an event falls into multiple selected filters, it will be placed in the
event queue once for each filter. For example, <code class="docutils literal notranslate"><span class="pre">prefix='bar'</span></code> and
<code class="docutils literal notranslate"><span class="pre">key='bart'</span></code> would both recieve events on <code class="docutils literal notranslate"><span class="pre">key='bart'</span></code>. If a queue was
subscribed to both events, changes to this key would be placed in the queue
twice, once for each filter.</p>
<p>All events are unsubscribed when this object is collected. Can also be used
as a contextmanager to unsubscribe-all on <code class="docutils literal notranslate"><span class="pre">__exit__</span></code>, or explicitly call
<code class="docutils literal notranslate"><span class="pre">unsubscribe_all</span></code>.</p>
<dl class="method">
<dt id="skein.kv.EventQueue.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">block=True</em>, <em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.EventQueue.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove and return an item from the queue.</p>
<p>If optional args ‘block’ is true and ‘timeout’ is None (the default),
block if necessary until an item is available. If ‘timeout’ is
a non-negative number, it blocks at most ‘timeout’ seconds and raises
the Empty exception if no item was available within that time.
Otherwise (‘block’ is false), return an item if one is immediately
available, else raise the Empty exception (‘timeout’ is ignored
in that case).</p>
</dd></dl>

<dl class="method">
<dt id="skein.kv.EventQueue.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">item</em>, <em class="sig-param">block=True</em>, <em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.EventQueue.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Put an item into the queue.</p>
<p>If optional args ‘block’ is true and ‘timeout’ is None (the default),
block if necessary until a free slot is available. If ‘timeout’ is
a non-negative number, it blocks at most ‘timeout’ seconds and raises
the Full exception if no free slot was available within that time.
Otherwise (‘block’ is false), put an item on the queue if a free slot
is immediately available, else raise the Full exception (‘timeout’
is ignored in that case).</p>
</dd></dl>

<dl class="method">
<dt id="skein.kv.EventQueue.subscribe">
<code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">event_filter=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">event_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.EventQueue.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to an event filter.</p>
<p>May provide either an explicit event filter, or provide arguments to
create a new one and add it to the queue. In either case, the event
filter is returned.</p>
<p>If no arguments are provided, subscribes to all events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>event_filter</strong><span class="classifier">EventFilter</span></dt><dd><p>An explicit EventFilter. If provided, no other keyword arguments
may be provided.</p>
</dd>
<dt><strong>key</strong><span class="classifier">str, optional</span></dt><dd><p>If present, only events from this key will be selected.</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str, optional</span></dt><dd><p>If present, only events with this key prefix will be selected.</p>
</dd>
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>If present, specifies the lower bound of the key range, inclusive.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>If present, specifies the upper bound of the key range, exclusive.</p>
</dd>
<dt><strong>event_type</strong><span class="classifier">EventType, optional.</span></dt><dd><p>The type of event. Default is <code class="docutils literal notranslate"><span class="pre">'ALL'</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>EventFilter</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.EventQueue.unsubscribe">
<code class="sig-name descname">unsubscribe</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">event_filter=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">event_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.EventQueue.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsubscribe from an event filter.</p>
<p>May provide either an explicit event filter, or provide arguments to
create a new one and add it to the queue.</p>
<p>If no arguments are provided, unsubscribes from a filter of all events.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised if the specified filter isn’t currently
subscribed to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>event_filter</strong><span class="classifier">EventFilter</span></dt><dd><p>An explicit EventFilter. If provided, no other keyword arguments
may be provided.</p>
</dd>
<dt><strong>key</strong><span class="classifier">str, optional</span></dt><dd><p>If present, only events from this key will be selected.</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str, optional</span></dt><dd><p>If present, only events with this key prefix will be selected.</p>
</dd>
<dt><strong>start</strong><span class="classifier">str, optional</span></dt><dd><p>If present, specifies the lower bound of the key range, inclusive.</p>
</dd>
<dt><strong>end</strong><span class="classifier">str, optional</span></dt><dd><p>If present, specifies the upper bound of the key range, exclusive.</p>
</dd>
<dt><strong>event_type</strong><span class="classifier">EventType, optional.</span></dt><dd><p>The type of event. Default is <code class="docutils literal notranslate"><span class="pre">'ALL'</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>EventFilter</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.kv.EventQueue.unsubscribe_all">
<code class="sig-name descname">unsubscribe_all</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.kv.EventQueue.unsubscribe_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsubscribe from all event filters</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="web-ui">
<h2>Web UI<a class="headerlink" href="#web-ui" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="skein.ui.WebUI">
<em class="property">class </em><code class="sig-prename descclassname">skein.ui.</code><code class="sig-name descname">WebUI</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ui.WebUI" title="Permalink to this definition">¶</a></dt>
<dd><p>The Skein WebUI.</p>
<dl class="method">
<dt id="skein.ui.WebUI.proxy_prefix">
<em class="property">property </em><code class="sig-name descname">proxy_prefix</code><a class="headerlink" href="#skein.ui.WebUI.proxy_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>The path between the Web UI address and the proxied pages.</p>
</dd></dl>

<dl class="method">
<dt id="skein.ui.WebUI.addresses">
<em class="property">property </em><code class="sig-name descname">addresses</code><a class="headerlink" href="#skein.ui.WebUI.addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>All known addresses of the Web UI.</p>
<p>In most cases this will be a list of length 1. If YARN is running in
high availability mode, there may be several available addresses. Use
the <code class="docutils literal notranslate"><span class="pre">address</span></code> attribute to choose one at random.</p>
</dd></dl>

<dl class="method">
<dt id="skein.ui.WebUI.address">
<em class="property">property </em><code class="sig-name descname">address</code><a class="headerlink" href="#skein.ui.WebUI.address" title="Permalink to this definition">¶</a></dt>
<dd><p>The address of the Web UI.</p>
<p>If YARN is running in high availability mode, a single address is
chosen at random on first access.</p>
</dd></dl>

<dl class="method">
<dt id="skein.ui.WebUI.add_page">
<code class="sig-name descname">add_page</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">route</em>, <em class="sig-param">target</em>, <em class="sig-param">link_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ui.WebUI.add_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new proxied page to the Web UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>route</strong><span class="classifier">str</span></dt><dd><p>The route for the proxied page. Must be a valid path <em>segment</em> in a
url (e.g. <code class="docutils literal notranslate"><span class="pre">foo</span></code> in <code class="docutils literal notranslate"><span class="pre">/foo/bar/baz</span></code>). Routes must be unique
across the application.</p>
</dd>
<dt><strong>target</strong><span class="classifier">str</span></dt><dd><p>The target address to be proxied to this page. Must be a valid url.</p>
</dd>
<dt><strong>link_name</strong><span class="classifier">str, optional</span></dt><dd><p>If provided, will be the link text used in the Web UI. If not
provided, the page will still be proxied, but no link will be added
to the Web UI. Link names must be unique across the application.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>ProxiedPage</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.ui.WebUI.remove_page">
<code class="sig-name descname">remove_page</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">route</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ui.WebUI.remove_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a proxied page from the Web UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>route</strong><span class="classifier">str</span></dt><dd><p>The route for the proxied page. Must be a valid path <em>segment</em> in a
url (e.g. <code class="docutils literal notranslate"><span class="pre">foo</span></code> in <code class="docutils literal notranslate"><span class="pre">/foo/bar/baz</span></code>). Routes must be unique
across the application.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.ui.WebUI.get_pages">
<code class="sig-name descname">get_pages</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ui.WebUI.get_pages" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all registered pages.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pages</strong><span class="classifier">dict</span></dt><dd><p>A <code class="docutils literal notranslate"><span class="pre">dict</span></code> of <code class="docutils literal notranslate"><span class="pre">route</span></code> to <code class="docutils literal notranslate"><span class="pre">ProxiedPage</span></code> for all pages.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.ui.ProxiedPage">
<em class="property">class </em><code class="sig-prename descclassname">skein.ui.</code><code class="sig-name descname">ProxiedPage</code><span class="sig-paren">(</span><em class="sig-param">route</em>, <em class="sig-param">target</em>, <em class="sig-param">link_name</em>, <em class="sig-param">_ui_address</em>, <em class="sig-param">_proxy_prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ui.ProxiedPage" title="Permalink to this definition">¶</a></dt>
<dd><p>A page proxied by the Skein Web UI.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>route</strong><span class="classifier">string</span></dt><dd><p>The route used in the address to the proxied page.</p>
</dd>
<dt><strong>target</strong><span class="classifier">string</span></dt><dd><p>The target address of the proxy.</p>
</dd>
<dt><strong>link_name</strong><span class="classifier">string or None</span></dt><dd><p>The name of the linked page in the Web UI. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the page is
still proxied but isn’t linked to in the Web UI.</p>
</dd>
<dt><a class="reference internal" href="#skein.ui.ProxiedPage.address" title="skein.ui.ProxiedPage.address"><code class="xref py py-obj docutils literal notranslate"><span class="pre">address</span></code></a><span class="classifier">string</span></dt><dd><p>The full proxied address to this page</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.ui.ProxiedPage.address">
<em class="property">property </em><code class="sig-name descname">address</code><a class="headerlink" href="#skein.ui.ProxiedPage.address" title="Permalink to this definition">¶</a></dt>
<dd><p>The full proxied address to this page</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="application-specification">
<h2>Application Specification<a class="headerlink" href="#application-specification" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="skein.ApplicationSpec">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">ApplicationSpec</code><span class="sig-paren">(</span><em class="sig-param">services=None</em>, <em class="sig-param">master=None</em>, <em class="sig-param">name='skein'</em>, <em class="sig-param">queue='default'</em>, <em class="sig-param">user=''</em>, <em class="sig-param">node_label=''</em>, <em class="sig-param">tags=None</em>, <em class="sig-param">file_systems=None</em>, <em class="sig-param">acls=None</em>, <em class="sig-param">max_attempts=1</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>A complete description of an application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>services</strong><span class="classifier">dict, optional</span></dt><dd><p>A mapping of service-name to services. Applications must either specify
at least one service, or a script for the application master to run
(see <code class="docutils literal notranslate"><span class="pre">skein.Master</span></code> for more information).</p>
</dd>
<dt><strong>master</strong><span class="classifier">Master, optional</span></dt><dd><p>Additional configuration for the application master service. See
<code class="docutils literal notranslate"><span class="pre">skein.Master</span></code> for more information.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str, optional</span></dt><dd><p>The name of the application, defaults to ‘skein’.</p>
</dd>
<dt><strong>queue</strong><span class="classifier">str, optional</span></dt><dd><p>The queue to submit to. Defaults to the default queue.</p>
</dd>
<dt><strong>user</strong><span class="classifier">str, optional</span></dt><dd><p>The user name to submit the application as. Requires that the
submitting user have permission to proxy as this user name. Default is
the submitter’s user name.</p>
</dd>
<dt><strong>node_label</strong><span class="classifier">str, optional</span></dt><dd><p>The node label expression to use when requesting containers for this
application. Services can override this setting by specifying
<code class="docutils literal notranslate"><span class="pre">node_label</span></code> on the service directly. Default is no label.</p>
</dd>
<dt><strong>tags</strong><span class="classifier">set, optional</span></dt><dd><p>A set of strings to use as tags for this application.</p>
</dd>
<dt><strong>file_systems</strong><span class="classifier">list, optional</span></dt><dd><p>A list of Hadoop file systems to acquire delegation tokens for.
A token is always acquired for the <code class="docutils literal notranslate"><span class="pre">defaultFS</span></code>.</p>
</dd>
<dt><strong>acls</strong><span class="classifier">ACLs, optional</span></dt><dd><p>Allows restricting users/groups to subsets of application access. See
<code class="docutils literal notranslate"><span class="pre">skein.ACLs</span></code> for more information.</p>
</dd>
<dt><strong>max_attempts</strong><span class="classifier">int, optional</span></dt><dd><p>The maximum number of submission attempts before marking the
application as failed. Note that this only considers failures of the
application master during startup. Default is 1.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.ApplicationSpec.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a dict.</p>
<p>Keys in the dict should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationSpec.from_file">
<em class="property">classmethod </em><code class="sig-name descname">from_file</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">format='infer'</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a json or yaml file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>path</strong><span class="classifier">str</span></dt><dd><p>The path to the file to load.</p>
</dd>
<dt><strong>format</strong><span class="classifier">{‘infer’, ‘json’, ‘yaml’}, optional</span></dt><dd><p>The file format. By default the format is inferred from the file
extension.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationSpec.from_json">
<em class="property">classmethod </em><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a json string.</p>
<p>Keys in the json object should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationSpec.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationSpec.from_yaml">
<em class="property">classmethod </em><code class="sig-name descname">from_yaml</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec.from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a yaml string.</p>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationSpec.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a dict</p>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationSpec.to_file">
<code class="sig-name descname">to_file</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">path</em>, <em class="sig-param">format='infer'</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec.to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write object to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>path</strong><span class="classifier">str</span></dt><dd><p>The path to the file to load.</p>
</dd>
<dt><strong>format</strong><span class="classifier">{‘infer’, ‘json’, ‘yaml’}, optional</span></dt><dd><p>The file format. By default the format is inferred from the file
extension.</p>
</dd>
<dt><strong>skip_nulls</strong><span class="classifier">bool, optional</span></dt><dd><p>By default null values are skipped in the output. Set to True to
output all fields.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationSpec.to_json">
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a json string</p>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationSpec.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

<dl class="method">
<dt id="skein.ApplicationSpec.to_yaml">
<code class="sig-name descname">to_yaml</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ApplicationSpec.to_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a yaml string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.LogLevel">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">LogLevel</code><a class="headerlink" href="#skein.LogLevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum of log levels.</p>
<p>Corresponds with <code class="docutils literal notranslate"><span class="pre">log4j</span></code> logging levels.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>OFF</strong><span class="classifier">LogLevel</span></dt><dd><p>Turns on all logging.</p>
</dd>
<dt><strong>TRACE</strong><span class="classifier">LogLevel</span></dt><dd><p>The finest level of events.</p>
</dd>
<dt><strong>DEBUG</strong><span class="classifier">LogLevel</span></dt><dd><p>Fine-grained informational events that are most useful to debug an
application.</p>
</dd>
<dt><strong>INFO</strong><span class="classifier">LogLevel</span></dt><dd><p>Informational messages that highlight the progress of the application
at a coarse-grained level. The default LogLevel.</p>
</dd>
<dt><strong>WARN</strong><span class="classifier">LogLevel</span></dt><dd><p>Potentially harmful situations that still allow the application to
continue running.</p>
</dd>
<dt><strong>ERROR</strong><span class="classifier">LogLevel</span></dt><dd><p>Error events that might still allow the application to continue
running.</p>
</dd>
<dt><strong>FATAL</strong><span class="classifier">LogLevel</span></dt><dd><p>Severe error events that will lead the application to abort.</p>
</dd>
<dt><strong>OFF</strong><span class="classifier">LogLevel</span></dt><dd><p>Turns off all logging.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.LogLevel.values">
<em class="property">classmethod </em><code class="sig-name descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.LogLevel.values" title="Permalink to this definition">¶</a></dt>
<dd><p>The constants of this enum type, in the order they are declared.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.Master">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">Master</code><span class="sig-paren">(</span><em class="sig-param">resources=None</em>, <em class="sig-param">script=''</em>, <em class="sig-param">files=None</em>, <em class="sig-param">env=None</em>, <em class="sig-param">log_level=LogLevel.INFO</em>, <em class="sig-param">log_config=None</em>, <em class="sig-param">security=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Master" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration for the Application Master.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>resources</strong><span class="classifier">Resources, optional</span></dt><dd><p>Describes the resources needed to run the application master. Default
is 512 MiB, 1 virtual core.</p>
</dd>
<dt><strong>script</strong><span class="classifier">str, optional</span></dt><dd><p>An optional bash script to run after starting the application master.
If provided, the application will terminate once the script has
completed.</p>
</dd>
<dt><strong>files</strong><span class="classifier">dict, optional</span></dt><dd><p>Describes any additional files needed to run the application master. A
mapping of destination relative paths to <code class="docutils literal notranslate"><span class="pre">File</span></code> or <code class="docutils literal notranslate"><span class="pre">str</span></code> objects
describing the sources for these paths. If a <code class="docutils literal notranslate"><span class="pre">str</span></code>, the file type is
inferred from the extension.</p>
</dd>
<dt><strong>env</strong><span class="classifier">dict, optional</span></dt><dd><p>A mapping of environment variables to set on the application master.</p>
</dd>
<dt><strong>log_level</strong><span class="classifier">str or LogLevel, optional</span></dt><dd><p>The application master log level. Sets the <code class="docutils literal notranslate"><span class="pre">skein.log.level</span></code> system
property. One of {‘ALL’, ‘TRACE’, ‘DEBUG’, ‘INFO’, ‘WARN’, ‘ERROR’,
‘FATAL’, ‘OFF’} (from most to least verbose). Default is ‘INFO’.</p>
</dd>
<dt><strong>log_config</strong><span class="classifier">str or File, optional</span></dt><dd><p>A custom <code class="docutils literal notranslate"><span class="pre">log4j.properties</span></code> file to use for the application master.
If not provided, the default logging configuration will be used.</p>
</dd>
<dt><strong>security</strong><span class="classifier">Security, optional</span></dt><dd><p>The security credentials to use for the application master. If not
provided, these will be the same as those used by the submitting
client.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.Master.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Master.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a dict.</p>
<p>Keys in the dict should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.Master.from_json">
<em class="property">classmethod </em><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Master.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a json string.</p>
<p>Keys in the json object should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.Master.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Master.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Master.from_yaml">
<em class="property">classmethod </em><code class="sig-name descname">from_yaml</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Master.from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a yaml string.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Master.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Master.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a dict</p>
</dd></dl>

<dl class="method">
<dt id="skein.Master.to_json">
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Master.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a json string</p>
</dd></dl>

<dl class="method">
<dt id="skein.Master.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Master.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

<dl class="method">
<dt id="skein.Master.to_yaml">
<code class="sig-name descname">to_yaml</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Master.to_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a yaml string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.Service">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">Service</code><span class="sig-paren">(</span><em class="sig-param">resources=required</em>, <em class="sig-param">script=required</em>, <em class="sig-param">instances=1</em>, <em class="sig-param">files=None</em>, <em class="sig-param">env=None</em>, <em class="sig-param">depends=None</em>, <em class="sig-param">max_restarts=0</em>, <em class="sig-param">allow_failures=False</em>, <em class="sig-param">node_label=''</em>, <em class="sig-param">nodes=None</em>, <em class="sig-param">racks=None</em>, <em class="sig-param">relax_locality=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Service" title="Permalink to this definition">¶</a></dt>
<dd><p>Description of a Skein service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>resources</strong><span class="classifier">Resources</span></dt><dd><p>Describes the resources needed to run the service.</p>
</dd>
<dt><strong>script</strong><span class="classifier">str</span></dt><dd><p>A bash script to run the service.</p>
</dd>
<dt><strong>instances</strong><span class="classifier">int, optional</span></dt><dd><p>The number of instances to create on startup. Default is 1.</p>
</dd>
<dt><strong>files</strong><span class="classifier">dict, optional</span></dt><dd><p>Describes any files needed to run the service. A mapping of destination
relative paths to <code class="docutils literal notranslate"><span class="pre">File</span></code> or <code class="docutils literal notranslate"><span class="pre">str</span></code> objects describing the sources
for these paths. If a <code class="docutils literal notranslate"><span class="pre">str</span></code>, the file type is inferred from the
extension.</p>
</dd>
<dt><strong>env</strong><span class="classifier">dict, optional</span></dt><dd><p>A mapping of environment variables needed to run the service.</p>
</dd>
<dt><strong>depends</strong><span class="classifier">set, optional</span></dt><dd><p>A set of service names that this service depends on. The service will
only be started after all its dependencies have been started.</p>
</dd>
<dt><strong>max_restarts</strong><span class="classifier">int, optional</span></dt><dd><p>The maximum number of restarts to allow for this service. Containers
are only restarted on failure, and the cap is set for all containers in
the service, not per container. Set to -1 to allow infinite restarts.
Default is 0.</p>
</dd>
<dt><strong>allow_failures</strong><span class="classifier">bool, optional</span></dt><dd><p>If False (default), the whole application will shutdown if the number
of failures for this service exceeds <code class="docutils literal notranslate"><span class="pre">max_restarts</span></code>. Set to True to
keep the application running even if this service exceeds its failure
limit.</p>
</dd>
<dt><strong>node_label</strong><span class="classifier">str, optional</span></dt><dd><p>The node label expression to use when requesting containers for this
service. If not set, defaults to the application-level <code class="docutils literal notranslate"><span class="pre">node_label</span></code>
(if set).</p>
</dd>
<dt><strong>nodes</strong><span class="classifier">list, optional</span></dt><dd><p>A list of node host names to restrict containers for this service to.
If not set, defaults to no node restrictions.</p>
</dd>
<dt><strong>racks</strong><span class="classifier">list, optional</span></dt><dd><p>A list of rack names to restrict containers for this service to. The
racks corresponding to any nodes requested will be automatically added
to this list. If not set, defaults to no rack restrictions.</p>
</dd>
<dt><strong>relax_locality</strong><span class="classifier">bool, optional</span></dt><dd><p>If true, containers for this request may be assigned on hosts and racks
other than the ones explicitly requested. If False, those restrictions
are strictly enforced. Default is False.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.Service.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Service.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a dict.</p>
<p>Keys in the dict should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.Service.from_json">
<em class="property">classmethod </em><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Service.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a json string.</p>
<p>Keys in the json object should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.Service.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Service.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Service.from_yaml">
<em class="property">classmethod </em><code class="sig-name descname">from_yaml</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Service.from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a yaml string.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Service.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Service.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a dict</p>
</dd></dl>

<dl class="method">
<dt id="skein.Service.to_json">
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Service.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a json string</p>
</dd></dl>

<dl class="method">
<dt id="skein.Service.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Service.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

<dl class="method">
<dt id="skein.Service.to_yaml">
<code class="sig-name descname">to_yaml</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Service.to_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a yaml string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.FileType">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">FileType</code><a class="headerlink" href="#skein.FileType" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum of possible file types to distribute with the application.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>FILE</strong><span class="classifier">FileType</span></dt><dd><p>Regular file</p>
</dd>
<dt><strong>ARCHIVE</strong><span class="classifier">FileType</span></dt><dd><p>A <code class="docutils literal notranslate"><span class="pre">.zip</span></code>, <code class="docutils literal notranslate"><span class="pre">.tar.gz</span></code>, or <code class="docutils literal notranslate"><span class="pre">.tgz</span></code> file to be automatically
unarchived in the containers.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.FileType.values">
<em class="property">classmethod </em><code class="sig-name descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.FileType.values" title="Permalink to this definition">¶</a></dt>
<dd><p>The constants of this enum type, in the order they are declared.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.FileVisibility">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">FileVisibility</code><a class="headerlink" href="#skein.FileVisibility" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum of possible file visibilities.</p>
<p>Determines how the file can be shared between containers.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>APPLICATION</strong><span class="classifier">FileVisibility</span></dt><dd><p>Shared only among containers of the same application on the node.</p>
</dd>
<dt><strong>PUBLIC</strong><span class="classifier">FileVisibility</span></dt><dd><p>Shared by all users on the node.</p>
</dd>
<dt><strong>PRIVATE</strong><span class="classifier">FileVisibility</span></dt><dd><p>Shared among all applications of the same user on the node.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.FileVisibility.values">
<em class="property">classmethod </em><code class="sig-name descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.FileVisibility.values" title="Permalink to this definition">¶</a></dt>
<dd><p>The constants of this enum type, in the order they are declared.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.File">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">File</code><span class="sig-paren">(</span><em class="sig-param">source=required</em>, <em class="sig-param">type='infer'</em>, <em class="sig-param">visibility=FileVisibility.APPLICATION</em>, <em class="sig-param">size=0</em>, <em class="sig-param">timestamp=0</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.File" title="Permalink to this definition">¶</a></dt>
<dd><p>A file/archive to distribute with the service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>source</strong><span class="classifier">str</span></dt><dd><p>The path to the file/archive. If no scheme is specified, path is
assumed to be on the local filesystem (<code class="docutils literal notranslate"><span class="pre">file://</span></code> scheme).</p>
</dd>
<dt><strong>type</strong><span class="classifier">FileType or str, optional</span></dt><dd><p>The type of file to distribute. Archive’s are automatically extracted
by yarn into a directory with the same name as their destination.
By default the type is inferred from the file extension.</p>
</dd>
<dt><strong>visibility</strong><span class="classifier">FileVisibility or str, optional</span></dt><dd><p>The resource visibility, default is <code class="docutils literal notranslate"><span class="pre">FileVisibility.APPLICATION</span></code></p>
</dd>
<dt><strong>size</strong><span class="classifier">int, optional</span></dt><dd><p>The resource size in bytes. If not provided will be determined by the
file system.</p>
</dd>
<dt><strong>timestamp</strong><span class="classifier">int, optional</span></dt><dd><p>The time the resource was last modified. If not provided will be
determined by the file system.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.File.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.File.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a dict.</p>
<p>Keys in the dict should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.File.from_json">
<em class="property">classmethod </em><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.File.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a json string.</p>
<p>Keys in the json object should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.File.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.File.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.File.from_yaml">
<em class="property">classmethod </em><code class="sig-name descname">from_yaml</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.File.from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a yaml string.</p>
</dd></dl>

<dl class="method">
<dt id="skein.File.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.File.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a dict</p>
</dd></dl>

<dl class="method">
<dt id="skein.File.to_json">
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.File.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a json string</p>
</dd></dl>

<dl class="method">
<dt id="skein.File.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.File.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

<dl class="method">
<dt id="skein.File.to_yaml">
<code class="sig-name descname">to_yaml</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.File.to_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a yaml string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.Resources">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">Resources</code><span class="sig-paren">(</span><em class="sig-param">memory=required</em>, <em class="sig-param">vcores=required</em>, <em class="sig-param">gpus=0</em>, <em class="sig-param">fpgas=0</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Resource requests per container.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>memory</strong><span class="classifier">str or int</span></dt><dd><p>The amount of memory to request. Can be either a string with units
(e.g. <code class="docutils literal notranslate"><span class="pre">&quot;5</span> <span class="pre">GiB&quot;</span></code>), or numeric. If numeric, specifies the amount of
memory in <em>MiB</em>. Note that the units are in mebibytes (MiB) NOT
megabytes (MB) - the former being binary based (1024 MiB in a GiB), the
latter being decimal based (1000 MB in a GB).</p>
<p>Requests smaller than the minimum allocation will receive the minimum
allocation (1024 MiB by default). Requests larger than the maximum
allocation will error on application submission.</p>
</dd>
<dt><strong>vcores</strong><span class="classifier">int</span></dt><dd><p>The number of virtual cores to request. Depending on your system
configuration one virtual core may map to a single actual core, or a
fraction of a core. Requests larger than the maximum allocation will
error on application submission.</p>
</dd>
<dt><strong>gpus</strong><span class="classifier">int, optional</span></dt><dd><p>The number of gpus to request. Requires Hadoop &gt;= 3.1, sets
resource requirements for <code class="docutils literal notranslate"><span class="pre">yarn.io/gpu</span></code>. Default is 0.</p>
</dd>
<dt><strong>fpgas</strong><span class="classifier">int, optional</span></dt><dd><p>The number of fpgas to request. Requires Hadoop &gt;= 3.1, sets
resource requirements for <code class="docutils literal notranslate"><span class="pre">yarn.io/fpga</span></code>. Default is 0.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.Resources.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Resources.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a dict.</p>
<p>Keys in the dict should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.Resources.from_json">
<em class="property">classmethod </em><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Resources.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a json string.</p>
<p>Keys in the json object should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.Resources.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Resources.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Resources.from_yaml">
<em class="property">classmethod </em><code class="sig-name descname">from_yaml</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Resources.from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a yaml string.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Resources.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Resources.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a dict</p>
</dd></dl>

<dl class="method">
<dt id="skein.Resources.to_json">
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Resources.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a json string</p>
</dd></dl>

<dl class="method">
<dt id="skein.Resources.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Resources.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

<dl class="method">
<dt id="skein.Resources.to_yaml">
<code class="sig-name descname">to_yaml</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Resources.to_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a yaml string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.ACLs">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">ACLs</code><span class="sig-paren">(</span><em class="sig-param">enable=False</em>, <em class="sig-param">view_users=None</em>, <em class="sig-param">view_groups=None</em>, <em class="sig-param">modify_users=None</em>, <em class="sig-param">modify_groups=None</em>, <em class="sig-param">ui_users=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ACLs" title="Permalink to this definition">¶</a></dt>
<dd><p>Skein Access Control Lists.</p>
<p>Maps access types to users/groups to provide that access.</p>
<p>The following access types are supported:</p>
<ul class="simple">
<li><p>VIEW : view application details</p></li>
<li><p>MODIFY : modify the application via YARN (e.g. killing the application)</p></li>
<li><p>UI : access the application Web UI</p></li>
</ul>
<p>The VIEW and MODIFY access types are handled by YARN directly; permissions
for these can be set by users and/or groups. Authorizing UI access is
handled by Skein internally, and only user-level access control is
supported.</p>
<p>The application owner (the user who submitted the application) will always
have permission for all access types.</p>
<p>By default, ACLs are disabled - to enable, set <code class="docutils literal notranslate"><span class="pre">enable=True</span></code>. If enabled,
access is restricted only to the application owner by default - add
users/groups to the access types you wish to expand to other users.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>enable</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the ACLs will be enforced. Default is False.</p>
</dd>
<dt><strong>view_users, view_groups</strong><span class="classifier">list, optional</span></dt><dd><p>Lists of users/groups to give VIEW access to this application. If both
are empty, only the application owner has access (default). If either
contains <code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code>, all users are given access (default). See the YARN
documentation for more information on what VIEW access entails.</p>
</dd>
<dt><strong>modify_users, modify_groups</strong><span class="classifier">list, optional</span></dt><dd><p>Lists of users/groups to give MODIFY access to this application. If
both are empty, only the application owner has access (default). If
either contains <code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code>, all users are given access (default). See the
YARN documentation for more information on what MODIFY access entails.</p>
</dd>
<dt><strong>ui_users</strong><span class="classifier">list, optional</span></dt><dd><p>A list of users to give access to the application Web UI. If empty,
only the application owner has access (default). If it contains
<code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code>, all users are given access.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>By default ACLs are disabled, and all users have access.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">skein</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acls</span> <span class="o">=</span> <span class="n">skein</span><span class="o">.</span><span class="n">ACLs</span><span class="p">()</span>
</pre></div>
</div>
<p>Enabling ACLs results in only the application owner having access (provided
YARN is also configured with ACLs enabled).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">acls</span> <span class="o">=</span> <span class="n">skein</span><span class="o">.</span><span class="n">ACLs</span><span class="p">(</span><span class="n">enable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>To give access to other users, add users/groups to the desired access
types. Here we enable view access for all users in group <code class="docutils literal notranslate"><span class="pre">engineering</span></code>,
and modify access for user <code class="docutils literal notranslate"><span class="pre">nancy</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">acls</span> <span class="o">=</span> <span class="n">skein</span><span class="o">.</span><span class="n">ACLs</span><span class="p">(</span><span class="n">enable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="n">view_groups</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;engineering&#39;</span><span class="p">],</span>
<span class="gp">... </span>                  <span class="n">modify_users</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;nancy&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>You can use the wildcard character <code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code> to enable access for all users.
Here we give view access to all users:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">acls</span> <span class="o">=</span> <span class="n">skein</span><span class="o">.</span><span class="n">ACLs</span><span class="p">(</span><span class="n">enable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="n">view_users</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="method">
<dt id="skein.ACLs.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ACLs.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a dict.</p>
<p>Keys in the dict should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.ACLs.from_json">
<em class="property">classmethod </em><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ACLs.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a json string.</p>
<p>Keys in the json object should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.ACLs.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ACLs.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.ACLs.from_yaml">
<em class="property">classmethod </em><code class="sig-name descname">from_yaml</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ACLs.from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a yaml string.</p>
</dd></dl>

<dl class="method">
<dt id="skein.ACLs.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ACLs.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a dict</p>
</dd></dl>

<dl class="method">
<dt id="skein.ACLs.to_json">
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ACLs.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a json string</p>
</dd></dl>

<dl class="method">
<dt id="skein.ACLs.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ACLs.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

<dl class="method">
<dt id="skein.ACLs.to_yaml">
<code class="sig-name descname">to_yaml</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.ACLs.to_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a yaml string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.Security">
<em class="property">class </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">Security</code><span class="sig-paren">(</span><em class="sig-param">cert_file=None</em>, <em class="sig-param">key_file=None</em>, <em class="sig-param">cert_bytes=None</em>, <em class="sig-param">key_bytes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security" title="Permalink to this definition">¶</a></dt>
<dd><p>Security configuration.</p>
<p>Secrets may be specified either as file paths or raw bytes, but not both.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>cert_file</strong><span class="classifier">str, File, optional</span></dt><dd><p>The TLS certificate file, in pem format. Either a path or a fully
specified File object.</p>
</dd>
<dt><strong>key_file</strong><span class="classifier">str, File, optional</span></dt><dd><p>The TLS private key file, in pem format. Either a path or a fully
specified File object.</p>
</dd>
<dt><strong>cert_bytes</strong><span class="classifier">bytes, optional</span></dt><dd><p>The contents of the TLS certificate file, in pem format.</p>
</dd>
<dt><strong>key_bytes</strong><span class="classifier">bytes, optional</span></dt><dd><p>The contents of the TLS private key file, in pem format.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.Security.from_default">
<em class="property">classmethod </em><code class="sig-name descname">from_default</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.from_default" title="Permalink to this definition">¶</a></dt>
<dd><p>The default security configuration.</p>
<p>Usually this loads the credentials stored in the configuration
directory (<code class="docutils literal notranslate"><span class="pre">~/.skein</span></code> by default). If these credentials don’t already
exist, new ones will be created.</p>
<p>When run in a YARN container started by Skein, this loads the same
security credentials as used for the current application.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Security.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a dict.</p>
<p>Keys in the dict should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.Security.from_directory">
<em class="property">classmethod </em><code class="sig-name descname">from_directory</code><span class="sig-paren">(</span><em class="sig-param">directory</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.from_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a security object from a directory.</p>
<p>Relies on standard names for each file (<code class="docutils literal notranslate"><span class="pre">skein.crt</span></code> and
<code class="docutils literal notranslate"><span class="pre">skein.pem</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="skein.Security.from_json">
<em class="property">classmethod </em><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a json string.</p>
<p>Keys in the json object should match parameter names</p>
</dd></dl>

<dl class="method">
<dt id="skein.Security.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Security.from_yaml">
<em class="property">classmethod </em><code class="sig-name descname">from_yaml</code><span class="sig-paren">(</span><em class="sig-param">b</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a yaml string.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Security.new_credentials">
<em class="property">classmethod </em><code class="sig-name descname">new_credentials</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.new_credentials" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new Security object with a new certificate/key pair.</p>
</dd></dl>

<dl class="method">
<dt id="skein.Security.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a dict</p>
</dd></dl>

<dl class="method">
<dt id="skein.Security.to_directory">
<code class="sig-name descname">to_directory</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">directory</em>, <em class="sig-param">force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.to_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Write this security object to a directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>directory</strong><span class="classifier">str</span></dt><dd><p>The directory to write the configuration to.</p>
</dd>
<dt><strong>force</strong><span class="classifier">bool, optional</span></dt><dd><p>If security credentials already exist at this location, an error
will be raised by default. Set to True to overwrite existing files.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>security</strong><span class="classifier">Security</span></dt><dd><p>A new security object backed by the written files.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.Security.to_json">
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a json string</p>
</dd></dl>

<dl class="method">
<dt id="skein.Security.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

<dl class="method">
<dt id="skein.Security.to_yaml">
<code class="sig-name descname">to_yaml</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">skip_nulls=True</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.Security.to_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a yaml string</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="application-responses">
<h2>Application Responses<a class="headerlink" href="#application-responses" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="skein.model.ApplicationState">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">ApplicationState</code><a class="headerlink" href="#skein.model.ApplicationState" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum of application states.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>NEW</strong><span class="classifier">ApplicationState</span></dt><dd><p>Application was just created.</p>
</dd>
<dt><strong>NEW_SAVING</strong><span class="classifier">ApplicationState</span></dt><dd><p>Application is being saved.</p>
</dd>
<dt><strong>SUBMITTED</strong><span class="classifier">ApplicationState</span></dt><dd><p>Application has been submitted.</p>
</dd>
<dt><strong>ACCEPTED</strong><span class="classifier">ApplicationState</span></dt><dd><p>Application has been accepted by the scheduler.</p>
</dd>
<dt><strong>RUNNING</strong><span class="classifier">ApplicationState</span></dt><dd><p>Application is currently running.</p>
</dd>
<dt><strong>FINISHED</strong><span class="classifier">ApplicationState</span></dt><dd><p>Application finished successfully.</p>
</dd>
<dt><strong>FAILED</strong><span class="classifier">ApplicationState</span></dt><dd><p>Application failed.</p>
</dd>
<dt><strong>KILLED</strong><span class="classifier">ApplicationState</span></dt><dd><p>Application was terminated by a user or admin.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.model.ApplicationState.values">
<em class="property">classmethod </em><code class="sig-name descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ApplicationState.values" title="Permalink to this definition">¶</a></dt>
<dd><p>The constants of this enum type, in the order they are declared.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.model.FinalStatus">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">FinalStatus</code><a class="headerlink" href="#skein.model.FinalStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum of application final statuses.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>SUCCEEDED</strong><span class="classifier">FinalStatus</span></dt><dd><p>Application finished successfully.</p>
</dd>
<dt><strong>KILLED</strong><span class="classifier">FinalStatus</span></dt><dd><p>Application was terminated by a user or admin.</p>
</dd>
<dt><strong>FAILED</strong><span class="classifier">FinalStatus</span></dt><dd><p>Application failed.</p>
</dd>
<dt><strong>UNDEFINED</strong><span class="classifier">FinalStatus</span></dt><dd><p>Application has not yet finished.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.model.FinalStatus.values">
<em class="property">classmethod </em><code class="sig-name descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.FinalStatus.values" title="Permalink to this definition">¶</a></dt>
<dd><p>The constants of this enum type, in the order they are declared.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.model.ApplicationReport">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">ApplicationReport</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">name</em>, <em class="sig-param">user</em>, <em class="sig-param">queue</em>, <em class="sig-param">tags</em>, <em class="sig-param">host</em>, <em class="sig-param">port</em>, <em class="sig-param">tracking_url</em>, <em class="sig-param">state</em>, <em class="sig-param">final_status</em>, <em class="sig-param">progress</em>, <em class="sig-param">usage</em>, <em class="sig-param">diagnostics</em>, <em class="sig-param">start_time</em>, <em class="sig-param">finish_time</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ApplicationReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Report of application status.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>id</strong><span class="classifier">str</span></dt><dd><p>The application ID.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>The application name.</p>
</dd>
<dt><strong>user</strong><span class="classifier">str</span></dt><dd><p>The user that started the application.</p>
</dd>
<dt><strong>queue</strong><span class="classifier">str</span></dt><dd><p>The application queue.</p>
</dd>
<dt><strong>tags</strong><span class="classifier">set of strings</span></dt><dd><p>The application tags.</p>
</dd>
<dt><strong>host</strong><span class="classifier">str</span></dt><dd><p>The host the application master is running on.</p>
</dd>
<dt><strong>port</strong><span class="classifier">int</span></dt><dd><p>The rpc port for the application master</p>
</dd>
<dt><strong>tracking_url</strong><span class="classifier">str</span></dt><dd><p>The application tracking url.</p>
</dd>
<dt><strong>state</strong><span class="classifier">ApplicationState</span></dt><dd><p>The application state.</p>
</dd>
<dt><strong>final_status</strong><span class="classifier">FinalStatus</span></dt><dd><p>The application final status.</p>
</dd>
<dt><strong>progress</strong><span class="classifier">float</span></dt><dd><p>The progress of the application, from 0.0 to 1.0.</p>
</dd>
<dt><strong>usage</strong><span class="classifier">ResourceUsageReport</span></dt><dd><p>Report on application resource usage.</p>
</dd>
<dt><strong>diagnostics</strong><span class="classifier">str</span></dt><dd><p>The diagnostic message in the case of failures.</p>
</dd>
<dt><strong>start_time</strong><span class="classifier">datetime</span></dt><dd><p>The application start time.</p>
</dd>
<dt><strong>finish_time</strong><span class="classifier">datetime</span></dt><dd><p>The application finish time.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.model.ApplicationReport.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ApplicationReport.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.model.ApplicationReport.runtime">
<em class="property">property </em><code class="sig-name descname">runtime</code><a class="headerlink" href="#skein.model.ApplicationReport.runtime" title="Permalink to this definition">¶</a></dt>
<dd><p>The total runtime of the container.</p>
</dd></dl>

<dl class="method">
<dt id="skein.model.ApplicationReport.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ApplicationReport.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.model.ResourceUsageReport">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">ResourceUsageReport</code><span class="sig-paren">(</span><em class="sig-param">memory_seconds</em>, <em class="sig-param">vcore_seconds</em>, <em class="sig-param">num_used_containers</em>, <em class="sig-param">needed_resources</em>, <em class="sig-param">reserved_resources</em>, <em class="sig-param">used_resources</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ResourceUsageReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Resource usage report.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>memory_seconds</strong><span class="classifier">int</span></dt><dd><p>The total amount of memory (in MBs) the application has allocated times
the number of seconds the application has been running.</p>
</dd>
<dt><strong>vcore_seconds</strong><span class="classifier">int</span></dt><dd><p>The total number of vcores that the application has allocated times the
number of seconds the application has been running.</p>
</dd>
<dt><strong>num_used_containers</strong><span class="classifier">int</span></dt><dd><p>Current number of containers in use.</p>
</dd>
<dt><strong>needed_resources</strong><span class="classifier">Resources</span></dt><dd><p>The needed resources.</p>
</dd>
<dt><strong>reserved_resources</strong><span class="classifier">Resources</span></dt><dd><p>The reserved resources.</p>
</dd>
<dt><strong>used_resources</strong><span class="classifier">Resources</span></dt><dd><p>The used resources.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.model.ResourceUsageReport.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ResourceUsageReport.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.model.ResourceUsageReport.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ResourceUsageReport.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.model.ContainerState">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">ContainerState</code><a class="headerlink" href="#skein.model.ContainerState" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum of container states.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>WAITING</strong><span class="classifier">ContainerState</span></dt><dd><p>Container is waiting on another service to startup before being
requested.</p>
</dd>
<dt><strong>REQUESTED</strong><span class="classifier">ContainerState</span></dt><dd><p>Container has been requested but is not currently running.</p>
</dd>
<dt><strong>RUNNING</strong><span class="classifier">ContainerState</span></dt><dd><p>Container is currently running.</p>
</dd>
<dt><strong>SUCCEEDED</strong><span class="classifier">ContainerState</span></dt><dd><p>Container finished successfully.</p>
</dd>
<dt><strong>FAILED</strong><span class="classifier">ContainerState</span></dt><dd><p>Container failed.</p>
</dd>
<dt><strong>KILLED</strong><span class="classifier">ContainerState</span></dt><dd><p>Container was terminated by a user or admin.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.model.ContainerState.values">
<em class="property">classmethod </em><code class="sig-name descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ContainerState.values" title="Permalink to this definition">¶</a></dt>
<dd><p>The constants of this enum type, in the order they are declared.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.model.Container">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">Container</code><span class="sig-paren">(</span><em class="sig-param">service_name</em>, <em class="sig-param">instance</em>, <em class="sig-param">state</em>, <em class="sig-param">yarn_container_id</em>, <em class="sig-param">yarn_node_http_address</em>, <em class="sig-param">start_time</em>, <em class="sig-param">finish_time</em>, <em class="sig-param">exit_message</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.Container" title="Permalink to this definition">¶</a></dt>
<dd><p>Current container state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>service_name</strong><span class="classifier">str</span></dt><dd><p>The name of the service this container is running.</p>
</dd>
<dt><strong>instance</strong><span class="classifier">int</span></dt><dd><p>The container instance number.</p>
</dd>
<dt><strong>state</strong><span class="classifier">ContainerState</span></dt><dd><p>The current container state.</p>
</dd>
<dt><strong>yarn_container_id</strong><span class="classifier">str</span></dt><dd><p>The YARN container id.</p>
</dd>
<dt><strong>yarn_node_http_address</strong><span class="classifier">str</span></dt><dd><p>The YARN node HTTP address given as <code class="docutils literal notranslate"><span class="pre">host:port</span></code>.</p>
</dd>
<dt><strong>start_time</strong><span class="classifier">datetime</span></dt><dd><p>The start time, None if container has not started.</p>
</dd>
<dt><strong>finish_time</strong><span class="classifier">datetime</span></dt><dd><p>The finish time, None if container has not finished.</p>
</dd>
<dt><strong>exit_message</strong><span class="classifier">str</span></dt><dd><p>The diagnostic exit message for completed containers.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.model.Container.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.Container.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.model.Container.id">
<em class="property">property </em><code class="sig-name descname">id</code><a class="headerlink" href="#skein.model.Container.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The complete service_name &amp; instance identity of this container.</p>
</dd></dl>

<dl class="method">
<dt id="skein.model.Container.runtime">
<em class="property">property </em><code class="sig-name descname">runtime</code><a class="headerlink" href="#skein.model.Container.runtime" title="Permalink to this definition">¶</a></dt>
<dd><p>The total runtime of the application.</p>
</dd></dl>

<dl class="method">
<dt id="skein.model.Container.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.Container.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.model.ApplicationLogs">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">ApplicationLogs</code><span class="sig-paren">(</span><em class="sig-param">app_id</em>, <em class="sig-param">logs</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ApplicationLogs" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping of <code class="docutils literal notranslate"><span class="pre">yarn_container_id</span></code> to their logs for an application</p>
<dl class="method">
<dt id="skein.model.ApplicationLogs.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ApplicationLogs.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the logs to a file or stdout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file</strong><span class="classifier">file-like, optional</span></dt><dd><p>A file-like object to write the logs to. Defaults to <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="skein.model.ApplicationLogs.dumps">
<code class="sig-name descname">dumps</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.ApplicationLogs.dumps" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the logs to a string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.model.NodeState">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">NodeState</code><a class="headerlink" href="#skein.model.NodeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum of node states.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>DECOMMISSIONED</strong><span class="classifier">NodeState</span></dt><dd><p>Node is out of service.</p>
</dd>
<dt><strong>DECOMMISSIONING</strong><span class="classifier">NodeState</span></dt><dd><p>Node is currently decommissioning.</p>
</dd>
<dt><strong>LOST</strong><span class="classifier">NodeState</span></dt><dd><p>Node has not sent responded for some time.</p>
</dd>
<dt><strong>NEW</strong><span class="classifier">NodeState</span></dt><dd><p>New has just started.</p>
</dd>
<dt><strong>REBOOTED</strong><span class="classifier">NodeState</span></dt><dd><p>Node is just rebooted.</p>
</dd>
<dt><strong>RUNNING</strong><span class="classifier">NodeState</span></dt><dd><p>Node is currently running.</p>
</dd>
<dt><strong>SHUTDOWN</strong><span class="classifier">NodeState</span></dt><dd><p>Node has been shutdown gracefully.</p>
</dd>
<dt><strong>UNHEALTHY</strong><span class="classifier">NodeState</span></dt><dd><p>Node is unhealthy.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.model.NodeState.values">
<em class="property">classmethod </em><code class="sig-name descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.NodeState.values" title="Permalink to this definition">¶</a></dt>
<dd><p>The constants of this enum type, in the order they are declared.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.model.NodeReport">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">NodeReport</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">http_address</em>, <em class="sig-param">rack_name</em>, <em class="sig-param">labels</em>, <em class="sig-param">state</em>, <em class="sig-param">health_report</em>, <em class="sig-param">total_resources</em>, <em class="sig-param">used_resources</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.NodeReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Report of node status.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>id</strong><span class="classifier">str</span></dt><dd><p>The node id.</p>
</dd>
<dt><strong>http_address</strong><span class="classifier">str</span></dt><dd><p>The http address to the node manager.</p>
</dd>
<dt><strong>rack_name</strong><span class="classifier">str</span></dt><dd><p>The rack name for this node.</p>
</dd>
<dt><strong>labels</strong><span class="classifier">set</span></dt><dd><p>Node labels for this node.</p>
</dd>
<dt><strong>state</strong><span class="classifier">NodeState</span></dt><dd><p>The node’s current state.</p>
</dd>
<dt><strong>health_report</strong><span class="classifier">str</span></dt><dd><p>The diagnostic health report for this node.</p>
</dd>
<dt><strong>total_resources</strong><span class="classifier">Resources</span></dt><dd><p>Total resources available on this node.</p>
</dd>
<dt><strong>used_resources</strong><span class="classifier">Resources</span></dt><dd><p>Used resources available on this node.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.model.NodeReport.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.NodeReport.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.model.NodeReport.host">
<em class="property">property </em><code class="sig-name descname">host</code><a class="headerlink" href="#skein.model.NodeReport.host" title="Permalink to this definition">¶</a></dt>
<dd><p>The node manager host for this node.</p>
</dd></dl>

<dl class="method">
<dt id="skein.model.NodeReport.port">
<em class="property">property </em><code class="sig-name descname">port</code><a class="headerlink" href="#skein.model.NodeReport.port" title="Permalink to this definition">¶</a></dt>
<dd><p>The node manager port for this node.</p>
</dd></dl>

<dl class="method">
<dt id="skein.model.NodeReport.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.NodeReport.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.model.QueueState">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">QueueState</code><a class="headerlink" href="#skein.model.QueueState" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum of queue states.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>RUNNING</strong><span class="classifier">QueueState</span></dt><dd><p>Queue is running, normal operation.</p>
</dd>
<dt><strong>STOPPED</strong><span class="classifier">QueueState</span></dt><dd><p>Queue is stopped, no longer taking new requests.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.model.QueueState.values">
<em class="property">classmethod </em><code class="sig-name descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.QueueState.values" title="Permalink to this definition">¶</a></dt>
<dd><p>The constants of this enum type, in the order they are declared.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="skein.model.Queue">
<em class="property">class </em><code class="sig-prename descclassname">skein.model.</code><code class="sig-name descname">Queue</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">state</em>, <em class="sig-param">capacity</em>, <em class="sig-param">max_capacity</em>, <em class="sig-param">percent_used</em>, <em class="sig-param">node_labels</em>, <em class="sig-param">default_node_label</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.Queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Information about a specific YARN queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>The queue’s name.</p>
</dd>
<dt><strong>state</strong><span class="classifier">QueueState</span></dt><dd><p>The queue’s state.</p>
</dd>
<dt><strong>capacity</strong><span class="classifier">float</span></dt><dd><p>The queue’s capacity as a percentage. For the capacity scheduler, the
queue is guaranteed access to this percentage of the parent queue’s
resources (if sibling queues are running over their limit, there may be
a lag accessing resources as those applications scale down). For the
fair scheduler, this number is the percentage of the total cluster this
queue currently has in its fair share (this will shift dynamically
during cluster use).</p>
</dd>
<dt><strong>max_capacity</strong><span class="classifier">float</span></dt><dd><p>The queue’s max capacity as a percentage. For the capacity scheduler,
this queue may elastically expand to use up to this percentage of its
parent’s resources if its siblings aren’t running at their capacity.
For the fair scheduler this is always 100%.</p>
</dd>
<dt><strong>percent_used</strong><span class="classifier">float</span></dt><dd><p>The percent of this queue’s capacity that’s currently in use. This may
be over 100% if elasticity is in effect.</p>
</dd>
<dt><strong>node_labels</strong><span class="classifier">set</span></dt><dd><p>A set of all accessible node labels for this queue. If all node labels
are accessible this is the set <code class="docutils literal notranslate"><span class="pre">{&quot;*&quot;}</span></code>.</p>
</dd>
<dt><strong>default_node_label</strong><span class="classifier">str</span></dt><dd><p>The default node label for this queue. This will be used if the
application doesn’t specify a node label itself.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="skein.model.Queue.from_protobuf">
<em class="property">classmethod </em><code class="sig-name descname">from_protobuf</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.Queue.from_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a protobuf message.</p>
</dd></dl>

<dl class="method">
<dt id="skein.model.Queue.to_protobuf">
<code class="sig-name descname">to_protobuf</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.model.Queue.to_protobuf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert object to a protobuf message</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="skein.SkeinError">
<em class="property">exception </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">SkeinError</code><a class="headerlink" href="#skein.SkeinError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base class for Skein specific exceptions</p>
</dd></dl>

<dl class="exception">
<dt id="skein.ConnectionError">
<em class="property">exception </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">ConnectionError</code><a class="headerlink" href="#skein.ConnectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">skein.exceptions.SkeinError</span></code>, <a class="reference internal" href="#skein.ConnectionError" title="skein.ConnectionError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConnectionError</span></code></a></p>
<p>Failed to connect to the driver or application master</p>
</dd></dl>

<dl class="exception">
<dt id="skein.DriverNotRunningError">
<em class="property">exception </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">DriverNotRunningError</code><a class="headerlink" href="#skein.DriverNotRunningError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">skein.exceptions.ConnectionError</span></code></p>
<p>The driver process is not currently running</p>
</dd></dl>

<dl class="exception">
<dt id="skein.ApplicationNotRunningError">
<em class="property">exception </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">ApplicationNotRunningError</code><a class="headerlink" href="#skein.ApplicationNotRunningError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">skein.exceptions.ConnectionError</span></code></p>
<p>The application master is not currently running</p>
</dd></dl>

<dl class="exception">
<dt id="skein.DriverError">
<em class="property">exception </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">DriverError</code><a class="headerlink" href="#skein.DriverError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">skein.exceptions.SkeinError</span></code></p>
<p>Internal exceptions from the driver</p>
</dd></dl>

<dl class="exception">
<dt id="skein.ApplicationError">
<em class="property">exception </em><code class="sig-prename descclassname">skein.</code><code class="sig-name descname">ApplicationError</code><a class="headerlink" href="#skein.ApplicationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">skein.exceptions.SkeinError</span></code></p>
<p>Internal exceptions from the application master</p>
</dd></dl>

</div>
<div class="section" id="tornado-utilities">
<h2>Tornado Utilities<a class="headerlink" href="#tornado-utilities" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="skein.tornado.init_kerberos">
<code class="sig-prename descclassname">skein.tornado.</code><code class="sig-name descname">init_kerberos</code><span class="sig-paren">(</span><em class="sig-param">keytab=None</em>, <em class="sig-param">service='HTTP'</em>, <em class="sig-param">hostname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skein.tornado.init_kerberos" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize Kerberos authentication settings.</p>
<p>Should be called once on process startup, sets global settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>keytab</strong><span class="classifier">str, optional</span></dt><dd><p>Path to the keytab file. If not set, will check the <code class="docutils literal notranslate"><span class="pre">KRB5_KTNAME</span></code>
environment variable, and error otherwise.</p>
</dd>
<dt><strong>hostname</strong><span class="classifier">str, optional</span></dt><dd><p>The hostname. If not provided, will be inferred from the system.</p>
</dd>
<dt><strong>service</strong><span class="classifier">str, optional</span></dt><dd><p>The service name. The default of <code class="docutils literal notranslate"><span class="pre">&quot;HTTP&quot;</span></code> is usually sufficient.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="skein.tornado.KerberosAuthMixin">
<em class="property">class </em><code class="sig-prename descclassname">skein.tornado.</code><code class="sig-name descname">KerberosAuthMixin</code><a class="headerlink" href="#skein.tornado.KerberosAuthMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="docutils literal notranslate"><span class="pre">tornado.web.RequestHandler</span></code> mixin for authenticating with Kerberos.</p>
<p class="rubric">Examples</p>
<p>A simple hello-world application:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">skein.tornado</span> <span class="kn">import</span> <span class="n">init_kerberos</span><span class="p">,</span> <span class="n">KerberosAuthMixin</span>
<span class="kn">from</span> <span class="nn">tornado</span> <span class="kn">import</span> <span class="n">web</span><span class="p">,</span> <span class="n">ioloop</span>

<span class="c1"># Create a handler with the KerberosAuthMixin as a base class</span>
<span class="k">class</span> <span class="nc">HelloHandler</span><span class="p">(</span><span class="n">KerberosAuthMixin</span><span class="p">,</span> <span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="nd">@web</span><span class="o">.</span><span class="n">authenticated</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Hello </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_user</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># Initialize kerberos once per application</span>
    <span class="n">init_kerberos</span><span class="p">(</span><span class="n">keytab</span><span class="o">=</span><span class="s2">&quot;/path/to/my/service.keytab&quot;</span><span class="p">)</span>

    <span class="c1"># Serve web application</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">HelloHandler</span><span class="p">)])</span>
    <span class="n">app</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
    <span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">current</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="skein.tornado.SimpleAuthMixin">
<em class="property">class </em><code class="sig-prename descclassname">skein.tornado.</code><code class="sig-name descname">SimpleAuthMixin</code><a class="headerlink" href="#skein.tornado.SimpleAuthMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="docutils literal notranslate"><span class="pre">tornado.web.RequestHandler</span></code> mixin for authenticating using Hadoop’s
“simple” protocol.</p>
<p>In Hadoop, “simple” authentication uses a URL query parameter to specify
the user, and isn’t secure at all. This mixin class exists for parity with
Hadoop, but kerberos authentication is advised instead.</p>
<p class="rubric">Examples</p>
<p>A simple hello-world application:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">skein.tornado</span> <span class="kn">import</span> <span class="n">SimpleAuthMixin</span>
<span class="kn">from</span> <span class="nn">tornado</span> <span class="kn">import</span> <span class="n">web</span><span class="p">,</span> <span class="n">ioloop</span>

<span class="c1"># Create a handler with the SimpleAuthMixin as a base class</span>
<span class="k">class</span> <span class="nc">HelloHandler</span><span class="p">(</span><span class="n">SimpleAuthMixin</span><span class="p">,</span> <span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="nd">@web</span><span class="o">.</span><span class="n">authenticated</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Hello </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_user</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># Serve web application</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">HelloHandler</span><span class="p">)])</span>
    <span class="n">app</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
    <span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">current</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.svg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">A tool and library for easily deploying applications on Apache YARN</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=jcrist&repo=skein&type=watch&count=False&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a class="badge" href="https://travis-ci.org/jcrist/skein">
    <img
        alt="https://secure.travis-ci.org/jcrist/skein.svg?branch=master"
        src="https://secure.travis-ci.org/jcrist/skein.svg?branch=master"
    />
</a>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="specification.html">Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributing-files.html">Distributing Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="key-value-store.html">Key-Value Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="web-ui.html">Web UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes.html">Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#client">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-client">Application Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#runtime-properties">Runtime Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="#key-value-store">Key Value Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web-ui">Web UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-specification">Application Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-responses">Application Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tornado-utilities">Tornado Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="develop.html">Development</a></li>
</ul>

<h3>Need help?</h3>

<p>
  Open an issue in the <a href="https://github.com/jcrist/skein/issues">issue tracker</a>.
</p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Jim Crist.
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>